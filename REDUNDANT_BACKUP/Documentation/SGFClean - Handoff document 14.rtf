{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica-Bold;\f1\fswiss\fcharset0 Helvetica;\f2\fmodern\fcharset0 Courier;
\f3\fnil\fcharset0 STIXTwoMath-Regular;\f4\froman\fcharset0 TimesNewRomanPSMT;\f5\fswiss\fcharset0 Helvetica-Oblique;
\f6\froman\fcharset0 Times-Italic;\f7\fmodern\fcharset0 Courier-Bold;\f8\fnil\fcharset0 LucidaGrande;
\f9\fnil\fcharset0 LucidaGrande-Bold;}
{\colortbl;\red255\green255\blue255;\red219\green219\blue223;\red19\green19\blue19;\red109\green109\blue109;
\red251\green251\blue251;\red38\green38\blue38;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c88627\c88627\c89804;\cssrgb\c9804\c9804\c9804;\cssrgb\c50196\c50196\c50196;
\cssrgb\c98824\c98824\c98824;\cssrgb\c19608\c19608\c19608;\cssrgb\c0\c0\c0;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid201\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid202\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid402\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid701\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid8}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\b\fs28 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 1. Kickoff Script for the Next Session\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 "I am continuing the SGFPlayerClean project. We have successfully reached\'a0
\f0\b v8.100
\f1\b0 , which builds and renders the 'Tabletop' assembly (Board, Lids, Tatami) with synchronized scaling. The slider is high-performance due to a Render Cache. I have Handover Document v8.500. Please acknowledge the Rules of Engagement. My first priority is to eliminate the\'a0
\f0\b Lid Update Delay
\f1\b0 \'a0using a 'DidSet' or 'Subject' notification model, then move to OGS REST integration for joining live games."\
\pard\pardeftab720\partightenfactor0
\cf4 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 2. Rules of Engagement (Strict Enforcement)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls1\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Trust the User:
\f1\b0 \'a0Accept sidebar states and folder paths as absolute truth.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 No Guessing:
\f1\b0 \'a0Never assume the content of a file. If a file hasn't been pasted in the current session, ask the user.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Full Code Drop-ins Only:
\f1\b0 \'a0Provide entire file contents so the user can "Select All > Paste."\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Single Source of Truth:
\f1\b0 \'a0All Enums, Structs, SGF Parsing, and Coordinate handling must live in\'a0
\f2\fs26 \cf5 \cb6 \strokec5 OGSModels.swift
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Zero Redundancy:
\f1\b0 \'a0If a type is moved to\'a0
\f2\fs26 \cf5 \cb6 \strokec5 OGSModels.swift
\f1\fs28 \cf2 \cb3 \strokec2 , any individual files containing that type must be deleted immediately.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Spatial Consistency:
\f1\b0 \'a0Maintain the\'a0\cb1 \uc0\u8232 
\f3\fs33\fsmilli16940 \cb3 1\cb1 \uc0\u8232 \cb3 :\cb1 \uc0\u8232 \cb3 1.0773\cb1 \uc0\u8232 \u8232 \u8232 
\f4 \uc0\u8232 \cb3 1:1.0773
\f2\fs28 \cb1 \uc0\u8232 
\f1 \cb3 \'a0aspect ratio and\'a0
\f3\fs33\fsmilli16940 6.5\cb1 \uc0\u8232 \cb3 %\cb1 \uc0\u8232 \u8232 \u8232 
\f4 \uc0\u8232 \cb3 6.5%
\f2\fs28 \cb1 \uc0\u8232 
\f1 \cb3 \'a0wood margin.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Linear Spatial Rendering:
\f1\b0 \'a0Always render stones using a fixed-order loop (Row -> Col) or a sorted array to prevent Z-order flickering.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 3. Current Status: The "Lid Delay" Analysis\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 While captures function, the bowls lag behind the board updates.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls2\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Hypothesis 1: The Combine "WillChange" Race:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 BoardViewModel
\f1\fs28 \cf2 \cb3 \strokec2 \'a0observes the Engine via\'a0
\f2\fs26 \cf5 \cb6 \strokec5 objectWillChange
\f1\fs28 \cf2 \cb3 \strokec2 . This fires\'a0
\f5\i before
\f1\i0 \'a0properties update. The ViewModel likely reads Move\'a0\cb1 \uc0\u8232 
\f3\fs33\fsmilli16940 \cb3 N\cb1 \uc0\u8232 \cb3 \uc0\u8722 \cb1 \uc0\u8232 \cb3 1\cb1 \uc0\u8232 \u8232 \u8232 
\f4 \uc0\u8232 
\f6\i \cb3 N
\f4\i0 \uc0\u8722 1
\f2\fs28 \cb1 \uc0\u8232 
\f1 \cb3 \'a0values while the Engine is still busy with Move\'a0
\f3\fs33\fsmilli16940 N\cb1 \uc0\u8232 \u8232 \u8232 
\f4 \uc0\u8232 
\f6\i \cb3 N
\f2\i0\fs28 \cb1 \uc0\u8232 
\f1 \cb3 .\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Hypothesis 2: Dependency Depth:
\f1\b0 \'a0SwiftUI occasionally fails to propagate updates from deeply nested @Published objects (Engine inside ViewModel) to subviews (LidView) in a single render pass.\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Hypothesis 3: Main Thread Congestion:
\f1\b0 \'a0The\'a0
\f2\fs26 \cf5 \cb6 \strokec5 seek
\f1\fs28 \cf2 \cb3 \strokec2 \'a0operation is heavy. If the UI tries to render the lids while the Engine is still looping through captures, the lid render is deferred to the next frame.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 4. Architectural Map\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Root Coordinator (
\f7\fs26 \cf5 \cb6 \strokec5 AppModel.swift
\f0\fs28 \cf2 \cb3 \strokec2 )
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls3\ilvl1\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f1 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Owns the lifecycle. Manages the transition between Local and Online modes.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Engine (
\f7\fs26 \cf5 \cb6 \strokec5 SGFPlayerEngine.swift
\f0\fs28 \cf2 \cb3 \strokec2 )
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls3\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f9 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Logic:
\f1\b0 \'a0Pure Go rules. Handles "Pass" moves as\'a0
\f2\fs26 \cf5 \cb6 \strokec5 nil
\f1\fs28 \cf2 \cb3 \strokec2 \'a0coordinates.\cb1 \
\ls3\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f9 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Variables:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 whiteStonesCaptured
\f1\fs28 \cf2 \cb3 \strokec2 \'a0and\'a0
\f2\fs26 \cf5 \cb6 \strokec5 blackStonesCaptured
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(Physical counts).\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Bridge (
\f7\fs26 \cf5 \cb6 \strokec5 BoardViewModel.swift
\f0\fs28 \cf2 \cb3 \strokec2 )
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls3\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f9 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Orchestration:
\f1\b0 \'a0Calculates the\'a0
\f0\b Render Cache
\f1\b0 \'a0(
\f2\fs26 \cf5 \cb6 \strokec5 stonesToRender
\f1\fs28 \cf2 \cb3 \strokec2 ).\cb1 \
\ls3\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f9 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Safety:
\f1\b0 \'a0Blocks stone placement in Local mode.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Truth (
\f7\fs26 \cf5 \cb6 \strokec5 OGSModels.swift
\f0\fs28 \cf2 \cb3 \strokec2 )
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls3\ilvl1\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f1 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Central vault for shared types and the SGF Parser.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	5	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Network (
\f7\fs26 \cf5 \cb6 \strokec5 OGSClient.swift
\f0\fs28 \cf2 \cb3 \strokec2 )
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls3\ilvl1\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f1 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 WebSocket management and "Golden DNA" move payloads.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 5. Verified OGS Protocols\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls4\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Endpoint:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 wss://wsp.online-go.com/
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(No\'a0
\f2\fs26 \cf5 \cb6 \strokec5 /socket.io/
\f1\fs28 \cf2 \cb3 \strokec2 \'a0path).\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Heartbeat:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 ["net/ping", \{"client": <ms_timestamp>\}]
\f1\fs28 \cf2 \cb3 \strokec2 \'a0every 5 seconds.\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Write-Access Payload:
\f1\b0 \'a0Requires\'a0
\f2\fs26 \cf5 \cb6 \strokec5 game_id
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 move
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 auth
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(from REST), and\'a0
\f2\fs26 \cf5 \cb6 \strokec5 player_id
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Move Encoding:
\f1\b0 \'a0Standard SGF (e.g., "pd").\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 6. Critical Variable Mapping (The "Truth Chain")\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 To prevent "Sign Errors" (flipped colors), we use the\'a0
\f0\b Loot Model
\f1\b0 :\

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2046\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3524\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7085\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec7 Entity\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Variable Name\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Physical Meaning\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2046\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3524\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7085\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Engine
\f1\b0 \cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 whiteStonesCaptured
\f1\fs28 \cf0 \cb1 \strokec7 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 White stones physically pulled off the board.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2046\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3524\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7085\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 ViewModel
\f1\b0 \cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 blackCapturedCount
\f1\fs28 \cf0 \cb1 \strokec7 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Black player's loot (Count of White stones he holds).\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2046\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3524\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7085\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 View (Bowl)
\f1\b0 \cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 stoneColor: .white
\f1\fs28 \cf0 \cb1 \strokec7 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The visual stones appearing in Black's (bottom) bowl.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2046\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3524\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7085\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 Metadata
\f1\b0 \cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 prisoners
\f1\fs28 \cf0 \cb1 \strokec7 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Displayed next to Black's name.\cf0 \cb1 \cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 7. Build Stability & Compiler Safety\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls5\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The\'a0
\f7\fs26 \cf5 \cb6 \strokec5 buildExpression
\f0\fs28 \cf2 \cb3 \strokec2 \'a0Error:
\f1\b0 \'a0SwiftUI's compiler times out if a View body contains too much imperative math.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls5\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f9 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Fix:
\f1\b0 \'a0Perform all layout math in private helper functions (e.g.,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 getLayout()
\f1\fs28 \cf2 \cb3 \strokec2 ) or local constants (
\f2\fs26 \cf5 \cb6 \strokec5 let
\f1\fs28 \cf2 \cb3 \strokec2 ) at the top of the\'a0
\f2\fs26 \cf5 \cb6 \strokec5 body
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls5\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f9 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Fix:
\f1\b0 \'a0Avoid placing logic calls (e.g.\'a0
\f2\fs26 \cf5 \cb6 \strokec5 boardVM.step()
\f1\fs28 \cf2 \cb3 \strokec2 ) inside Button labels; use\'a0
\f2\fs26 \cf5 \cb6 \strokec5 Image
\f1\fs28 \cf2 \cb3 \strokec2 \'a0or\'a0
\f2\fs26 \cf5 \cb6 \strokec5 Text
\f1\fs28 \cf2 \cb3 \strokec2 \'a0only.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls5\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Contextual Base Errors:
\f1\b0 \'a0Modifiers like\'a0
\f2\fs26 \cf5 \cb6 \strokec5 .padding(.bottom)
\f1\fs28 \cf2 \cb3 \strokec2 \'a0can fail if the compiler loses track of the View type. Use\'a0
\f2\fs26 \cf5 \cb6 \strokec5 EdgeInsets
\f1\fs28 \cf2 \cb3 \strokec2 \'a0for complex layouts.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 8. Performance Persistence (The Render Cache)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 The\'a0
\f0\b Render Cache
\f1\b0 \'a0(
\f2\fs26 \cf5 \cb6 \strokec5 stonesToRender
\f1\fs28 \cf2 \cb3 \strokec2 ) is mandatory.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Why:
\f1\b0 \'a0A standard Go board has 361 intersections. A nested loop checking every intersection for jitter/color during a slider drag locks the Main Thread.\cb1 \
\ls6\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Solution:
\f1\b0 \'a0The ViewModel must flatten the 19x19 grid into a simple\'a0
\f2\fs26 \cf5 \cb6 \strokec5 Identifiable
\f1\fs28 \cf2 \cb3 \strokec2 \'a0array of stones that actually exist. The View then uses a high-speed\'a0
\f2\fs26 \cf5 \cb6 \strokec5 ForEach
\f1\fs28 \cf2 \cb3 \strokec2 \'a0on that small array.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \strokec2 9. Known Risks & Sensitivities\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls7\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Tatami Scaling:
\f1\b0 \'a0The texture must scale using\'a0
\f2\fs26 \cf5 \cb6 \strokec5 ImagePaint
\f1\fs28 \cf2 \cb3 \strokec2 \'a0or a scaled frame based on a\'a0
\f0\b 750pt reference height
\f1\b0 . Otherwise, the straws will appear to grow/shrink at a different rate than the stones.\cb1 \
\ls7\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Z-Stack Layering:
\f1\b0 \'a0The\'a0
\f2\fs26 \cf5 \cb6 \strokec5 TatamiBackground
\f1\fs28 \cf2 \cb3 \strokec2 \'a0must remain the absolute first element in the root\'a0
\f2\fs26 \cf5 \cb6 \strokec5 ZStack
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to allow the sidebar to correctly render its "Frosted Glass" transparency.\cb1 \
\ls7\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Coordinate Drift:
\f1\b0 \'a0Lid positions must be calculated as a function of\'a0
\f2\fs26 \cf5 \cb6 \strokec5 boardWidth
\f1\fs28 \cf2 \cb3 \strokec2 \'a0+\'a0
\f2\fs26 \cf5 \cb6 \strokec5 cellWidth
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to ensure they stay "pinned" to the board edge during resizing.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 10. Near-Term Agenda\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls8\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Sync Fix:
\f1\b0 \'a0Move the prisoner update signal to an\'a0
\f2\fs26 \cf5 \cb6 \strokec5 ObservableObject
\f1\fs28 \cf2 \cb3 \strokec2 \'a0publisher that fires\'a0
\f5\i after
\f1\i0 \'a0the board is set.\cb1 \
\ls8\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Lid variety:
\f1\b0 \'a0Ensure\'a0
\f2\fs26 \cf5 \cb6 \strokec5 StoneView2D
\f1\fs28 \cf2 \cb3 \strokec2 \'a0continues to pick from the 5 clam assets deterministically.\cb1 \
\ls8\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS Bridge:
\f1\b0 \'a0Implement the REST call to\'a0
\f2\fs26 \cf5 \cb6 \strokec5 /api/v1/games/\{id\}
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to fetch the\'a0
\f2\fs26 \cf5 \cb6 \strokec5 auth
\f1\fs28 \cf2 \cb3 \strokec2 \'a0token required for move authorization.\cb1 \
}