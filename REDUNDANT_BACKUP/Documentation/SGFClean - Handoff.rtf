{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica-Bold;\f1\fswiss\fcharset0 Helvetica;\f2\fmodern\fcharset0 Courier;
\f3\fswiss\fcharset0 Helvetica-Oblique;\f4\froman\fcharset0 Times-Roman;\f5\fmodern\fcharset0 Courier-Bold;
\f6\froman\fcharset0 Times-Bold;\f7\fnil\fcharset0 LucidaGrande;\f8\fnil\fcharset0 LucidaGrande-Bold;
\f9\fswiss\fcharset0 Helvetica-BoldOblique;}
{\colortbl;\red255\green255\blue255;\red219\green219\blue223;\red19\green19\blue19;\red251\green251\blue251;
\red38\green38\blue38;\red109\green109\blue109;\red121\green121\blue121;\red24\green24\blue24;\red223\green219\blue218;
\red202\green202\blue202;\red134\green196\blue255;\red91\green165\blue255;\red238\green88\blue85;\red211\green171\blue250;
\red99\green112\blue125;\red242\green139\blue64;\red0\green0\blue0;\red117\green149\blue255;\red47\green47\blue47;
\red31\green31\blue31;}
{\*\expandedcolortbl;;\cssrgb\c88627\c88627\c89804;\cssrgb\c9804\c9804\c9804;\cssrgb\c98824\c98824\c98824;
\cssrgb\c19608\c19608\c19608;\cssrgb\c50196\c50196\c50196;\cssrgb\c54902\c54902\c54902;\cssrgb\c12157\c12157\c12157;\cssrgb\c89804\c88627\c88235;
\cssrgb\c83137\c83137\c83137;\cssrgb\c58824\c81569\c100000;\cssrgb\c42353\c71373\c100000;\cssrgb\c95686\c43922\c40392;\cssrgb\c86275\c74118\c98431;
\cssrgb\c46275\c51373\c56471;\cssrgb\c96471\c61569\c31373;\cssrgb\c0\c0\c0;\cssrgb\c52941\c66275\c100000;\cssrgb\c24314\c24314\c24314;
\cssrgb\c16471\c16471\c16471;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid1\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid201\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid501\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid602\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid701\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid702\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid801\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid802\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid9}
{\list\listtemplateid10\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid901\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid902\'01\'01;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid10}
{\list\listtemplateid11\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1001\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1002\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid11}
{\list\listtemplateid12\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1102\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid12}
{\list\listtemplateid13\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1202\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid13}
{\list\listtemplateid14\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid14}
{\list\listtemplateid15\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid15}
{\list\listtemplateid16\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1502\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid16}
{\list\listtemplateid17\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1602\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid17}
{\list\listtemplateid18\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1701\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1702\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid18}
{\list\listtemplateid19\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1801\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid19}
{\list\listtemplateid20\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1901\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid1902\'01\'01;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid20}
{\list\listtemplateid21\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2001\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid2002\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid21}
{\list\listtemplateid22\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid2101\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid22}
{\list\listtemplateid23\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid23}
{\list\listtemplateid24\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid24}
{\list\listtemplateid25\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid25}
{\list\listtemplateid26\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid26}
{\list\listtemplateid27\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid27}
{\list\listtemplateid28\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2701\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid2702\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid28}
{\list\listtemplateid29\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2801\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid29}
{\list\listtemplateid30\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid2901\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid30}
{\list\listtemplateid31\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid3001\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid31}
{\list\listtemplateid32\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid3101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid32}
{\list\listtemplateid33\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid3201\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid33}
{\list\listtemplateid34\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid3301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid34}
{\list\listtemplateid35\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid3401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid35}
{\list\listtemplateid36\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid3501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid36}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}{\listoverride\listid13\listoverridecount0\ls13}{\listoverride\listid14\listoverridecount0\ls14}{\listoverride\listid15\listoverridecount0\ls15}{\listoverride\listid16\listoverridecount0\ls16}{\listoverride\listid17\listoverridecount0\ls17}{\listoverride\listid18\listoverridecount0\ls18}{\listoverride\listid19\listoverridecount0\ls19}{\listoverride\listid20\listoverridecount0\ls20}{\listoverride\listid21\listoverridecount0\ls21}{\listoverride\listid22\listoverridecount0\ls22}{\listoverride\listid23\listoverridecount0\ls23}{\listoverride\listid24\listoverridecount0\ls24}{\listoverride\listid25\listoverridecount0\ls25}{\listoverride\listid26\listoverridecount0\ls26}{\listoverride\listid27\listoverridecount0\ls27}{\listoverride\listid28\listoverridecount0\ls28}{\listoverride\listid29\listoverridecount0\ls29}{\listoverride\listid30\listoverridecount0\ls30}{\listoverride\listid31\listoverridecount0\ls31}{\listoverride\listid32\listoverridecount0\ls32}{\listoverride\listid33\listoverridecount0\ls33}{\listoverride\listid34\listoverridecount0\ls34}{\listoverride\listid35\listoverridecount0\ls35}{\listoverride\listid36\listoverridecount0\ls36}}
\margl1440\margr1440\vieww17880\viewh28920\viewkind0
\deftab720
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs48 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 SGFPlayerClean: Project Handover & Context\
\pard\pardeftab720\partightenfactor0

\fs36 \cf2 1. Project Overview\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 Goal:
\f1\b0 \'a0Build a macOS Go (Baduk) application using\'a0
\f0\b SwiftUI
\f1\b0 \'a0and\'a0
\f0\b SceneKit
\f1\b0 .\cb1 \uc0\u8232 
\f0\b \cb3 Modes:
\f1\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls1\ilvl0
\f0\b \cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 2D Mode:
\f1\b0 \'a0Photorealistic top-down view using high-res textures (Kaya board, Clam/Slate stones).\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3D Mode:
\f1\b0 \'a0SceneKit environment using 3D lighting and geometry.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Functionality:
\f1\b0 \'a0Plays local SGF files and connects to\'a0
\f0\b OGS (Online Go Server)
\f1\b0 \'a0for live play.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \cb3 2. Current Status\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls2\ilvl0
\fs28 \cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Architecture:
\f1\b0 \'a0Clean MVVM.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 AppModel
\f1\fs28 \cf2 \cb3 \strokec2 \'a0holds the state.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 BoardViewModel
\f1\fs28 \cf2 \cb3 \strokec2 \'a0manages game logic.\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 UI:
\f1\b0 \'a0Shared "Frosted Glass" sidebars and overlays.\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 2D Rendering:
\f1\b0 \'a0Working perfectly with textures and jitter.\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3D Rendering:
\f1\b0 \'a0Working with\'a0
\f0\b Solid Stones
\f1\b0 \'a0(Glossy White / Matte Black).\'a0
\f3\i Note: We explicitly abandoned textured 3D stones due to UV mapping issues. Do not attempt to re-implement 3D textures without a custom USDZ model.
\f1\i0 \cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS:
\f1\b0 \'a0Authentication and Socket connection logic is written but needs UI integration for Automatch/Challenges.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 3. OGS Protocol Documentation (Critical)\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf2 The OGS API is undocumented and quirky. Here is what we have reverse-engineered:
\f1\i0 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 Connection & Auth\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 REST Login First:
\f1\b0 \'a0You must POST to\'a0
\f2\fs26 \cf4 \cb5 \strokec4 https://online-go.com/api/v0/login
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to get a session cookie (
\f2\fs26 \cf4 \cb5 \strokec4 csrftoken
\f1\fs28 \cf2 \cb3 \strokec2 \'a0and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 sessionid
\f1\fs28 \cf2 \cb3 \strokec2 ).\cb1 \
\ls3\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Shared Storage:
\f1\b0 \'a0The\'a0
\f2\fs26 \cf4 \cb5 \strokec4 URLSession
\f1\fs28 \cf2 \cb3 \strokec2 \'a0for the WebSocket\'a0
\f0\b must
\f1\b0 \'a0share the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 HTTPCookieStorage.shared
\f1\fs28 \cf2 \cb3 \strokec2 \'a0with the REST client.\cb1 \
\ls3\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Socket Endpoint:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 wss://online-go.com/socket.io/?transport=websocket
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(Do NOT use EIO=4).\cb1 \
\ls3\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Message Format:
\f1\b0 \'a0The server expects and sends\'a0
\f0\b Plain JSON Arrays
\f1\b0 , e.g.,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["event_name", \{data\}]
\f1\fs28 \cf2 \cb3 \strokec2 . It does\'a0
\f3\i not
\f1\i0 \'a0use standard Socket.io\'a0
\f2\fs26 \cf4 \cb5 \strokec4 42
\f1\fs28 \cf2 \cb3 \strokec2 \'a0prefixes in the raw byte stream for this endpoint.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 Automatch Payload\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 To find a game, send:\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["automatch/find_match", \{ ... \}]
\f1\fs28 \cf2 \cb1 \strokec2 \uc0\u8232 
\f0\b \cb3 Required Payload Structure:
\f1\b0 \
\pard\pardeftab720\partightenfactor0

\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \
\pard\pardeftab720\partightenfactor0

\f1\fs28 \cf9 \cb8 \strokec9 JSON\cb1 \
\
\pard\pardeftab720\partightenfactor0

\f2\fs26 \cf10 \cb8 \strokec10 \{\
  \cf11 \strokec11 "uuid"\cf10 \strokec10 : \cf11 \strokec11 "UNIQUE_STRING"\cf10 \strokec10 ,\
  \cf11 \strokec11 "size_speed_options"\cf10 \strokec10 : [\
    \{\
      \cf11 \strokec11 "size"\cf10 \strokec10 : \cf11 \strokec11 "19x19"\cf10 \strokec10 ,\
      \cf11 \strokec11 "speed"\cf10 \strokec10 : \cf11 \strokec11 "live"\cf10 \strokec10 ,\
      \cf11 \strokec11 "system"\cf10 \strokec10 : \cf11 \strokec11 "byoyomi"\cf10 \strokec10 \
    \}\
  ],\
  \cf11 \strokec11 "lower_rank_diff"\cf10 \strokec10 : -\cf12 \strokec12 3\cf10 \strokec10 ,\
  \cf11 \strokec11 "upper_rank_diff"\cf10 \strokec10 : \cf12 \strokec12 3\cf10 \strokec10 ,\
  \cf11 \strokec11 "rules"\cf10 \strokec10 : \{ \cf11 \strokec11 "condition"\cf10 \strokec10 : \cf11 \strokec11 "required"\cf10 \strokec10 , \cf11 \strokec11 "value"\cf10 \strokec10 : \cf11 \strokec11 "japanese"\cf10 \strokec10  \},\
  \cf11 \strokec11 "handicap"\cf10 \strokec10 : \{ \cf11 \strokec11 "condition"\cf10 \strokec10 : \cf11 \strokec11 "no-preference"\cf10 \strokec10 , \cf11 \strokec11 "value"\cf10 \strokec10 : \cf11 \strokec11 "disabled"\cf10 \strokec10  \}\
\}\cb1 \
\pard\pardeftab720\partightenfactor0

\f1\fs28 \cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 4. Critical Source Files\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf2 Paste these into the new chat if asked, or use them to restore context.
\f1\i0 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 A.\'a0
\f5\fs26 \cf4 \cb5 \strokec4 AppModel.swift
\f0\fs28 \cf2 \cb3 \strokec2 \'a0(State Container)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 Holds the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 GameSettings
\f1\fs28 \cf2 \cb3 \strokec2 , and switches between Local/Online modes.\
\pard\pardeftab720\partightenfactor0

\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \
\pard\pardeftab720\partightenfactor0

\f1\fs28 \cf9 \cb8 \strokec9 Swift\cb1 \
\
\pard\pardeftab720\partightenfactor0

\f2\fs26 \cf13 \cb8 \strokec13 import\cf10 \strokec10  AppKit\
\cf13 \strokec13 import\cf10 \strokec10  AVFoundation\
\cf13 \strokec13 import\cf10 \strokec10  Combine\
\cf13 \strokec13 import\cf10 \strokec10  Foundation\
\cf13 \strokec13 import\cf10 \strokec10  SwiftUI\
\
\cf13 \strokec13 enum\cf10 \strokec10  ViewMode: String, CaseIterable, Identifiable \{\
    case view2D = \cf11 \strokec11 "2D"\cf10 \strokec10 , view3D = \cf11 \strokec11 "3D"\cf10 \strokec10 \
    \cf13 \strokec13 var\cf10 \strokec10  id: String \{ rawValue \}\
    \cf13 \strokec13 var\cf10 \strokec10  displayName: String \{ rawValue + \cf11 \strokec11 " Board"\cf10 \strokec10  \}\
\}\
\
\cf13 \strokec13 final\cf10 \strokec10  \cf13 \strokec13 class\cf10 \strokec10  \cf14 \strokec14 AppModel\cf10 \strokec10 : \cf13 \strokec13 ObservableObject \{\cf10 \strokec10 \
    \cf12 \strokec12 @AppStorage("verboseLogging")\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  verboseLogging: Bool = \cf12 \strokec12 false\cf10 \strokec10 \
    \cf12 \strokec12 @AppStorage("viewMode")\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  viewMode: ViewMode = .view2D\
\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  folderURL: URL? \{ didSet \{ persistFolderURL() \} \}\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  games: [SGFGameWrapper] = []\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  selection: SGFGameWrapper? = nil \{ didSet \{ persistLastGame() \} \}\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  activePlaylist: [SGFGameWrapper] = []\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  gameCacheManager = GameCacheManager()\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  player = SGFPlayer()\
\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  ogsClient = OGSClient()\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  timeControl = TimeControlManager()\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  ogsGame: OGSGameViewModel?\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  gameSettings: GameSettings = GameSettings.load()\
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  isOnlineMode: Bool = \cf12 \strokec12 false\cf10 \strokec10 \
    \cf12 \strokec12 @Published\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  showPreGameOverlay: Bool = \cf12 \strokec12 false\cf10 \strokec10 \
    \
    \cf13 \strokec13 var\cf10 \strokec10  boardVM: BoardViewModel?\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  stoneClickPlayer: AVAudioPlayer?\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  autoAdvanceTimer: Timer?\
    \cf13 \strokec13 private\cf10 \strokec10  let folderKey = \cf11 \strokec11 "sgfplayer.folderURL"\cf10 \strokec10 \
    \cf13 \strokec13 private\cf10 \strokec10  let lastGameKey = \cf11 \strokec11 "sgfplayer.lastGame"\cf10 \strokec10 \
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  cancellables: Set<AnyCancellable> = []\
\
    \cf13 \strokec13 init\cf10 \strokec10 () \{\
        restoreFolderURL()\
        \cf13 \strokec13 if\cf10 \strokec10  let url = folderURL \{ loadFolder(url) \}\
        setupAudio()\
        self.ogsGame = OGSGameViewModel(ogsClient: ogsClient, player: player, timeControl: timeControl)\
        self.ogsClient.connect()\
        \
        DispatchQueue.main.asyncAfter(deadline: .now() + \cf12 \strokec12 0.5\cf10 \strokec10 ) \{ [weak self] \cf13 \strokec13 in\cf10 \strokec10 \
            \cf13 \strokec13 if\cf10 \strokec10  let self = self, self.ogsClient.isConnected \{\
                self.selection = nil\
                self.player.clear()\
            \}\
        \}\
    \}\
    \
    func setupAutoAdvancement() \{\
        guard let boardVM = boardVM \cf13 \strokec13 else\cf10 \strokec10  \{ \cf13 \strokec13 return\cf10 \strokec10  \}\
        boardVM.$currentMoveIndex.combineLatest(boardVM.$isAutoPlaying).sink \{ [weak self] moveIndex, isPlaying \cf13 \strokec13 in\cf10 \strokec10 \
            guard let self = self, let boardVM = self.boardVM \cf13 \strokec13 else\cf10 \strokec10  \{ \cf13 \strokec13 return\cf10 \strokec10  \}\
            \cf13 \strokec13 if\cf10 \strokec10  isPlaying && moveIndex >= boardVM.totalMoves && moveIndex > \cf12 \strokec12 0\cf10 \strokec10  \{\
                self.autoAdvanceTimer?.invalidate()\
                self.autoAdvanceTimer = Timer.scheduledTimer(withTimeInterval: \cf12 \strokec12 3.0\cf10 \strokec10 , repeats: \cf12 \strokec12 false\cf10 \strokec10 ) \{ _ \cf13 \strokec13 in\cf10 \strokec10 \
                    self.advanceToNextGame(from: self.activePlaylist)\
                \}\
            \}\
        \}.store(\cf13 \strokec13 in\cf10 \strokec10 : &cancellables)\
    \}\
    \
    \cf15 \strokec15 // ... (Standard Audio/File methods omitted for brevity, they are standard) ...\cf10 \strokec10 \
\}\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs28 \cf2 \cb3 \strokec2 B.\'a0
\f5\fs26 \cf4 \cb5 \strokec4 SceneManager3D.swift
\f0\fs28 \cf2 \cb3 \strokec2 \'a0(3D Logic)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 Handles the SceneKit environment.\'a0
\f0\b Note:
\f1\b0 \'a0Uses solid materials for stones, not textures.\
\pard\pardeftab720\partightenfactor0

\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \
\pard\pardeftab720\partightenfactor0

\f1\fs28 \cf9 \cb8 \strokec9 Swift\cb1 \
\
\pard\pardeftab720\partightenfactor0

\f2\fs26 \cf13 \cb8 \strokec13 import\cf10 \strokec10  Foundation\
\cf13 \strokec13 import\cf10 \strokec10  SceneKit\
\cf13 \strokec13 import\cf10 \strokec10  AppKit\
\
\cf13 \strokec13 class\cf10 \strokec10  \cf14 \strokec14 SceneManager3D\cf10 \strokec10 : \cf13 \strokec13 ObservableObject \{\cf10 \strokec10 \
    let scene = SCNScene()\
    let cameraNode = SCNNode()\
    let pivotNode = SCNNode()\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  stoneNodes: [SCNNode] = []\
    \
    \cf13 \strokec13 var\cf10 \strokec10  settings: AppSettings?\
    weak \cf13 \strokec13 var\cf10 \strokec10  boardVM: BoardViewModel?\
\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  upperLidNode: SCNNode?\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  lowerLidNode: SCNNode?\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  upperLidStones: [SCNNode] = []\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  lowerLidStones: [SCNNode] = []\
\
    \cf13 \strokec13 private\cf10 \strokec10  \cf13 \strokec13 var\cf10 \strokec10  boardSize: \cf16 \strokec16 Int\cf10 \strokec10  = \cf12 \strokec12 19\cf10 \strokec10 \
    \cf13 \strokec13 private\cf10 \strokec10  let stoneRadius: CGFloat = \cf12 \strokec12 0.48\cf10 \strokec10  \
    \cf13 \strokec13 private\cf10 \strokec10  let stoneThickness: CGFloat = \cf12 \strokec12 0.55\cf10 \strokec10 \
    \cf13 \strokec13 private\cf10 \strokec10  let stoneScaleY: CGFloat = \cf12 \strokec12 0.486\cf10 \strokec10  \cf15 \strokec15 // Squash factor for lenticular shape\cf10 \strokec10 \
\
    \cf13 \strokec13 init\cf10 \strokec10 () \{\
        setupCamera()\
        setupLighting()\
        setupBackground()\
        createBoard()\
        createLids()\
    \}\
\
    \cf13 \strokec13 private\cf10 \strokec10  func setupBackground() \{\
        scene.background.contents = NSColor(red: \cf12 \strokec12 0.01\cf10 \strokec10 , green: \cf12 \strokec12 0.01\cf10 \strokec10 , blue: \cf12 \strokec12 0.05\cf10 \strokec10 , alpha: \cf12 \strokec12 1.0\cf10 \strokec10 )\
    \}\
\
    func updateStones(from board: BoardSnapshot, lastMove: (x: \cf16 \strokec16 Int\cf10 \strokec10 , y: \cf16 \strokec16 Int\cf10 \strokec10 )?) \{\
        \cf15 \strokec15 // Logic to clear old nodes and rebuild based on board grid\cf10 \strokec10 \
        \cf15 \strokec15 // ... (Standard grid iteration) ...\cf10 \strokec10 \
        \
        \cf15 \strokec15 // Stone Creation (Solid Colors)\cf10 \strokec10 \
        \cf15 \strokec15 // let stoneNode = createSolidStone(color: stone, at: position, radius: stoneRadius)\cf10 \strokec10 \
    \}\
\
    \cf13 \strokec13 private\cf10 \strokec10  func createSolidStone(color: Stone, at position: SCNVector3, radius: CGFloat) -> SCNNode \{\
        let sphere = SCNSphere(radius: radius)\
        sphere.segmentCount = \cf12 \strokec12 48\cf10 \strokec10 \
        let material = SCNMaterial()\
\
        switch color \{\
        case .black:\
            material.diffuse.contents = NSColor(white: \cf12 \strokec12 0.1\cf10 \strokec10 , alpha: \cf12 \strokec12 1.0\cf10 \strokec10 )\
            material.specular.contents = NSColor(white: \cf12 \strokec12 0.3\cf10 \strokec10 , alpha: \cf12 \strokec12 1.0\cf10 \strokec10 )\
            material.roughness.contents = \cf12 \strokec12 0.4\cf10 \strokec10  \cf15 \strokec15 // Matte\cf10 \strokec10 \
        case .white:\
            material.diffuse.contents = NSColor(white: \cf12 \strokec12 0.95\cf10 \strokec10 , alpha: \cf12 \strokec12 1.0\cf10 \strokec10 )\
            material.specular.contents = NSColor(white: \cf12 \strokec12 1.0\cf10 \strokec10 , alpha: \cf12 \strokec12 1.0\cf10 \strokec10 )\
            material.roughness.contents = \cf12 \strokec12 0.1\cf10 \strokec10  \cf15 \strokec15 // Glossy\cf10 \strokec10 \
            material.shininess = \cf12 \strokec12 1.0\cf10 \strokec10 \
        \}\
        \
        sphere.materials = [material]\
        let node = SCNNode(geometry: sphere)\
        node.scale = SCNVector3(\cf12 \strokec12 1.0\cf10 \strokec10 , stoneScaleY, \cf12 \strokec12 1.0\cf10 \strokec10 )\
        node.position = position\
        node.castsShadow = \cf12 \strokec12 true\cf10 \strokec10 \
        \cf13 \strokec13 return\cf10 \strokec10  node\
    \}\
    \
    \cf15 \strokec15 // ... (Lid creation and camera control methods) ...\cf10 \strokec10 \
\}\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs28 \cf2 \cb3 \strokec2 C.\'a0
\f5\fs26 \cf4 \cb5 \strokec4 SettingsPanel.swift
\f0\fs28 \cf2 \cb3 \strokec2 \'a0(UI)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 Implements the slide-out drawer with specific transparency settings.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls4\ilvl0
\f0\b \cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Opacity:
\f1\b0 \'a00.3\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Tint:
\f1\b0 \'a0Dark Green/Blue (
\f2\fs26 \cf4 \cb5 \strokec4 Color(red: 0.05, green: 0.2, blue: 0.15)
\f1\fs28 \cf2 \cb3 \strokec2 )\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Blur:
\f1\b0 \'a0.ultraThinMaterial (Conditional logic for "No Blur" available in code comments).\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 D.\'a0
\f5\fs26 \cf4 \cb5 \strokec4 SupportingViews.swift
\f0\fs28 \cf2 \cb3 \strokec2 \'a0(Shared Components)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf2 Contains the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 FrostedGlass
\f1\fs28 \cf2 \cb3 \strokec2 \'a0modifier,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 GameInfoCard
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 PlaybackControls
\f1\fs28 \cf2 \cb3 \strokec2 , and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 TatamiBackground
\f1\fs28 \cf2 \cb3 \strokec2 .\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls5\ilvl0
\f0\b \cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Playback Controls:
\f1\b0 \'a0Redesigned as a thin strip (Buttons Left, Slider Right).\cb1 \
\ls5\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Tatami:
\f1\b0 \'a0Uses\'a0
\f2\fs26 \cf4 \cb5 \strokec4 .aspectRatio(contentMode: .fill)
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to avoid tiling.\cb1 \
\ls5\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 GameInfoCard:
\f1\b0 \'a0Displays metadata (Black/White Players, Result, Date).\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 5. Next Steps for New Chat\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\fs28 \cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Keyboard Handling:
\f1\b0 \'a0Re-implement\'a0
\f2\fs26 \cf4 \cb5 \strokec4 Shift + Arrow
\f1\fs28 \cf2 \cb3 \strokec2 \'a0handling for +/- 10 moves using\'a0
\f2\fs26 \cf4 \cb5 \strokec4 KeyboardShortcuts
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(avoiding the macOS 14\'a0
\f2\fs26 \cf4 \cb5 \strokec4 .onKeyPress
\f1\fs28 \cf2 \cb3 \strokec2 \'a0syntax error).\cb1 \
\ls6\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS Automatch UI:
\f1\b0 \'a0The\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSBrowserView
\f1\fs28 \cf2 \cb3 \strokec2 \'a0currently lists challenges via "Seek Graph". We need to connect the "Create Game" button to a UI that calls\'a0
\f2\fs26 \cf4 \cb5 \strokec4 app.ogsClient.startAutomatch()
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls6\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Game Play:
\f1\b0 \'a0Once a game is joined, we need to verify that moves sent via WebSocket (
\f2\fs26 \cf4 \cb5 \strokec4 app.ogsClient.sendMove
\f1\fs28 \cf2 \cb3 \strokec2 ) update the local board state correctly.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\cf2 \
\
\pard\pardeftab720\partightenfactor0

\f6\b\fs48 \cf0 \strokec17 SGFPlayerClean: OGS Protocol & Resource Bible\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf0 This document contains the specific, reverse-engineered protocols required to communicate with Online-Go.com (OGS). These findings come from extensive debugging of REST API failures and WebSocket behavior.
\f1\i0 \
\pard\pardeftab720\partightenfactor0

\f6\b\fs36 \cf0 1. Connection Architecture (The "Raw" WebSocket)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0\fs28 \cf0 We are\'a0
\f0\b not
\f1\b0 \'a0using standard Socket.io client libraries. We are using a raw\'a0
\f2\fs26 \cf4 \cb5 \strokec4 URLSessionWebSocketTask
\f1\fs28 \cf0 \cb1 \strokec17 \'a0connecting to the "Raw" endpoint.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls7\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Endpoint:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 wss://wsp.online-go.com/
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls7\ilvl1
\f3\i \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7\i0 \uc0\u9702 
\f3\i 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Note:
\f1\i0 \'a0Do NOT use\'a0
\f2\fs26 \cf4 \cb5 \strokec4 wss://online-go.com/socket.io/
\f1\fs28 \cf0 \cb1 \strokec17 . That endpoint requires EIO framing (42["..."]) which is brittle in Swift.\
\ls7\ilvl1
\f3\i \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7\i0 \uc0\u9702 
\f3\i 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Protocol:
\f1\i0 \'a0The\'a0
\f2\fs26 \cf4 \cb5 \strokec4 wsp
\f1\fs28 \cf0 \cb1 \strokec17 \'a0endpoint expects and sends\'a0
\f0\b Plain JSON Arrays
\f1\b0 .\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls7\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Message Format:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["event_name", \{ payload_dictionary \}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\pardeftab720\partightenfactor0

\f6\b\fs36 \cf0 \strokec17 2. Authentication Flow\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0\fs28 \cf0 Authentication is a two-step process. The WebSocket does not share cookies automatically in this configuration; we must explicity authenticate the socket.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls8\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Step 1: REST Login (To get User Data)
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls8\ilvl1
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 URL:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 POST https://online-go.com/api/v0/login
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls8\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Headers:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 Content-Type: application/json
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls8\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Mechanism:
\f1\b0 \'a0This sets the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 sessionid
\f1\fs28 \cf0 \cb1 \strokec17 \'a0and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 csrftoken
\f1\fs28 \cf0 \cb1 \strokec17 \'a0cookies in\'a0
\f2\fs26 \cf4 \cb5 \strokec4 HTTPCookieStorage.shared
\f1\fs28 \cf0 \cb1 \strokec17 .\
\ls8\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Success:
\f1\b0 \'a0Returns 200 and a JSON body containing\'a0
\f2\fs26 \cf4 \cb5 \strokec4 user.id
\f1\fs28 \cf0 \cb1 \strokec17 \'a0and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 user.ranking
\f1\fs28 \cf0 \cb1 \strokec17 .\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls8\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Step 2: Retrieve JWT (For Socket)
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls8\ilvl1
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 URL:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 GET https://online-go.com/api/v1/ui/config
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls8\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Why:
\f1\b0 \'a0The login response doesn't always give the JWT needed for the socket. The UI config endpoint does.\
\ls8\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Extract:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 json["user_jwt"]
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls8\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Step 3: Socket Authentication
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls8\ilvl1
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Send:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["authenticate", \{"jwt": "YOUR_JWT_STRING"\}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls8\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Response:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["authenticate", \{"success": true, ...\}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\pardeftab720\partightenfactor0

\f6\b\fs36 \cf0 \strokec17 3. The Challenge System (Seek Graph)\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf0 Critical Lesson:
\f1\i0 \'a0The REST API for posting challenges (
\f2\fs26 \cf4 \cb5 \strokec4 POST /api/v1/challenges
\f1\fs28 \cf0 \cb1 \strokec17 ) returns\'a0
\f0\b HTTP 500 Errors
\f1\b0 . We abandoned it. We now use the\'a0
\f0\b Seek Graph
\f1\b0 \'a0via WebSocket.\
\pard\pardeftab720\partightenfactor0

\f6\b \cf0 Viewing Challenges\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls9\ilvl0
\f0 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Subscribe:
\f1\b0 \'a0Send\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["seek_graph/connect", \{"channel": "global"\}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls9\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Events Received:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["seekgraph/global", [List of Challenges]]
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls9\ilvl1
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Initial Load:
\f1\b0 \'a0A large array (>10 items) represents the full snapshot.\
\ls9\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Updates:
\f1\b0 \'a0Smaller arrays represent incremental adds/removes.\
\ls9\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Deletions:
\f1\b0 \'a0Look for\'a0
\f2\fs26 \cf4 \cb5 \strokec4 \{"delete": true, "challenge_id": 123\}
\f1\fs28 \cf0 \cb1 \strokec17 \'a0in the update.\
\pard\pardeftab720\partightenfactor0

\f6\b \cf0 \strokec17 Creating a Challenge (Automatch)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf0 We do not post specific challenges; we use Automatch.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls10\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Send:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["automatch/find_match", \{ ... \}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls10\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Payload:
\f1\b0 \uc0\u8232 
\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 JSON\cb1 \uc0\u8232 \u8232 
\f2\fs26 \cf10 \cb8 \strokec10 \{\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls10\ilvl0\cf10 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   \cf11 \strokec11 "uuid"\cf10 \strokec10 : \cf11 \strokec11 "UUID_STRING"\cf10 \strokec10 ,\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   \cf11 \strokec11 "size_speed_options"\cf10 \strokec10 : [\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10     \{ \cf11 \strokec11 "size"\cf10 \strokec10 : \cf11 \strokec11 "19x19"\cf10 \strokec10 , \cf11 \strokec11 "speed"\cf10 \strokec10 : \cf11 \strokec11 "live"\cf10 \strokec10 , \cf11 \strokec11 "system"\cf10 \strokec10 : \cf11 \strokec11 "byoyomi"\cf10 \strokec10  \}\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   ],\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   \cf11 \strokec11 "lower_rank_diff"\cf10 \strokec10 : -\cf12 \strokec12 3\cf10 \strokec10 ,\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   \cf11 \strokec11 "upper_rank_diff"\cf10 \strokec10 : \cf12 \strokec12 3\cf10 \strokec10 ,\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   \cf11 \strokec11 "rules"\cf10 \strokec10 : \{ \cf11 \strokec11 "condition"\cf10 \strokec10 : \cf11 \strokec11 "required"\cf10 \strokec10 , \cf11 \strokec11 "value"\cf10 \strokec10 : \cf11 \strokec11 "japanese"\cf10 \strokec10  \},\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10   \cf11 \strokec11 "handicap"\cf10 \strokec10 : \{ \cf11 \strokec11 "condition"\cf10 \strokec10 : \cf11 \strokec11 "no-preference"\cf10 \strokec10 , \cf11 \strokec11 "value"\cf10 \strokec10 : \cf11 \strokec11 "disabled"\cf10 \strokec10  \}\
\ls10\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10 \}\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 \uc0\u8232 \cf0 \cb1 \strokec17 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls10\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Events Received:
\f1\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls10\ilvl1
\f2\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 "automatch/entry"
\f1\fs28 \cf0 \cb1 \strokec17 : Confirmation that we are in the queue.\
\ls10\ilvl1
\f2\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 "automatch/start"
\f1\fs28 \cf0 \cb1 \strokec17 : Match found! Contains\'a0
\f2\fs26 \cf4 \cb5 \strokec4 \{"game_id": 123\}
\f1\fs28 \cf0 \cb1 \strokec17 .\
\pard\pardeftab720\sa360\partightenfactor0

\f6\b\fs36 \cf0 \strokec17 4. Gameplay Protocols\
\pard\pardeftab720\partightenfactor0

\fs28 \cf0 Joining a Game\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0 \cf0 Once you have a\'a0
\f2\fs26 \cf4 \cb5 \strokec4 game_id
\f1\fs28 \cf0 \cb1 \strokec17 \'a0(from automatch or selection):\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls11\ilvl0
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Send:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["game/connect", \{"game_id": 123, "player_id": YOUR_PLAYER_ID, "chat": true\}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls11\ilvl1
\f3\i \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7\i0 \uc0\u9702 
\f3\i 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Note:
\f1\i0 \'a0Including\'a0
\f2\fs26 \cf4 \cb5 \strokec4 player_id
\f1\fs28 \cf0 \cb1 \strokec17 \'a0is crucial to receive clock events. If omitted, you connect as a spectator.\
\pard\pardeftab720\partightenfactor0

\f6\b \cf0 \strokec17 Game Data (Initial State)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls12\ilvl0
\f0 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Event:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["game/123/gamedata", \{ ... \}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls12\ilvl1
\f0\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Contains:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 moves
\f1\fs28 \cf0 \cb1 \strokec17 \'a0(array of arrays),\'a0
\f2\fs26 \cf4 \cb5 \strokec4 clock
\f1\fs28 \cf0 \cb1 \strokec17 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 phase
\f1\fs28 \cf0 \cb1 \strokec17 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 players
\f1\fs28 \cf0 \cb1 \strokec17 \'a0(black/white info).\
\ls12\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Moves Format:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 [x, y, time_taken_ms]
\f1\fs28 \cf0 \cb1 \strokec17 .\
\ls12\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Coordinates:
\f1\b0 \'a00-indexed integers.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 x
\f1\fs28 \cf0 \cb1 \strokec17 \'a0is column,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 y
\f1\fs28 \cf0 \cb1 \strokec17 \'a0is row.\
\ls12\ilvl1
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Pass:
\f1\b0 \'a0represented as\'a0
\f2\fs26 \cf4 \cb5 \strokec4 x: -1, y: -1
\f1\fs28 \cf0 \cb1 \strokec17 .\
\pard\pardeftab720\partightenfactor0

\f6\b \cf0 \strokec17 Sending a Move\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls13\ilvl0
\f0 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Send:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["game/move", \{"game_id": 123, "move": "pd"\}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls13\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Format:
\f1\b0 \'a0OGS expects\'a0
\f0\b SGF Coordinates
\f1\b0 \'a0(strings like "pd", "dd", "aa") when\'a0
\f3\i sending
\f1\i0 \'a0moves via WebSocket, even though it\'a0
\f3\i sends you
\f1\i0 \'a0integer coordinates.\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls13\ilvl1
\f3\i \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7\i0 \uc0\u9702 
\f3\i 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Conversion:
\f1\i0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 a
\f1\fs28 \cf0 \cb1 \strokec17 =0,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 s
\f1\fs28 \cf0 \cb1 \strokec17 =18.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 pd
\f1\fs28 \cf0 \cb1 \strokec17 \'a0-> x=15 (p), y=3 (d).\
\pard\pardeftab720\partightenfactor0

\f6\b \cf0 \strokec17 Clock Handling\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls14\ilvl0
\f0 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Event:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 ["game/123/clock", \{ ... \}]
\f1\fs28 \cf0 \cb1 \strokec17 \
\ls14\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Payload:
\f1\b0 \'a0Contains\'a0
\f2\fs26 \cf4 \cb5 \strokec4 black_time
\f1\fs28 \cf0 \cb1 \strokec17 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 white_time
\f1\fs28 \cf0 \cb1 \strokec17 , and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 now
\f1\fs28 \cf0 \cb1 \strokec17 \'a0(server timestamp).\
\ls14\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Latency Logic:
\f1\b0 \'a0Calculate\'a0
\f2\fs26 \cf4 \cb5 \strokec4 latency = Date() - server_now
\f1\fs28 \cf0 \cb1 \strokec17 . Subtract this latency from the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 thinking_time
\f1\fs28 \cf0 \cb1 \strokec17 \'a0provided to sync clocks accurately.\
\pard\pardeftab720\partightenfactor0

\f6\b\fs36 \cf0 \strokec17 5. Resources & Documentation\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls15\ilvl0
\f0\fs28 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Official Docs:
\f1\b0 \'a0{\field{\*\fldinst{HYPERLINK "https://www.google.com/url?sa=E&q=https%3A%2F%2Fdocs.online-go.com"}}{\fldrslt \cf18 \strokec18 docs.online-go.com}}\'a0(Often outdated, trust our reverse-engineering first).\
\ls15\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 Socket.io:
\f1\b0 \'a0We are mimicking Socket.io behavior over a raw socket to avoid dependency bloat.\
\ls15\ilvl0
\f0\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec17 SGFKit:
\f1\b0 \'a0Included in the project for coordinate conversion and SGF parsing.\
\pard\pardeftab720\partightenfactor0

\f4\fs24 \cf0 \cb8 \strokec17 67.6s\cb1 \
Use Arrow Up and Arrow Down to select a turn, Enter to jump to it, and Escape to return to the chat.\
\pard\pardeftab720\partightenfactor0
\cf0 \cb19 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb20 \
\
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs48 \cf2 \cb3 \strokec2 SGFPlayerClean: Technical Reference & Architecture Guide\
\pard\pardeftab720\sa360\partightenfactor0

\fs36 \cf2 \cb3 \strokec2 1. Project File Structure & Responsibilities\
\pard\pardeftab720\partightenfactor0

\fs28 \cf2 \cb3 \strokec2 Core State (The Brain)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls16\ilvl0
\f5\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 AppModel.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The Single Source of Truth.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls16\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Root dependency injected into all views. Owns the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SGFPlayer
\f1\fs28 \cf2 \cb3 \strokec2 \'a0engine, and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 GameSettings
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls16\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Key Logic:
\f1\b0 \'a0Handles file loading, auto-advancement, and switching between 2D/3D modes.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls16\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 AppSettings.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : Persisted User Preferences.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls16\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Singleton (
\f2\fs26 \cf4 \cb5 \strokec4 .shared
\f1\fs28 \cf2 \cb3 \strokec2 ) observing\'a0
\f2\fs26 \cf4 \cb5 \strokec4 UserDefaults
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls16\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Key Data:
\f1\b0 \'a0Visual toggles (Board Glow, Move Numbers), Playback speeds, Jitter settings, Panel opacity/blur.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 ViewModels (The Logic)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls17\ilvl0
\f5\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 BoardViewModel.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The Board Controller.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls17\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Maps the raw SGF game data to UI-ready state.\cb1 \
\ls17\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Key Data:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 stones
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(Dictionary of [Pos: Color]),\'a0
\f2\fs26 \cf4 \cb5 \strokec4 lastMovePosition
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 captures
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls17\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Key Methods:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 loadGame()
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 nextMove()
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 seekToMove()
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls17\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 OGSGameViewModel.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The Online Bridge.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls17\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Bridges\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 \'a0events to the UI. Tracks connection state and game phase.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls17\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 LayoutViewModel.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : 2D Geometry.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls17\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Calculates exact pixel frames for the board, lids, and stones to ensure alignment in the 2D view.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls17\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 SceneManager3D.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : 3D Controller.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls17\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Manages the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SCNScene
\f1\fs28 \cf2 \cb3 \strokec2 , cameras, lights, and 3D stone placement.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 Networking (The Connection)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls18\ilvl0
\f5\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 OGSClient.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The Network Layer.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls18\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Raw WebSocket implementation for Online-Go.com.\cb1 \
\ls18\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Key Features:
\f1\b0 \'a0Auth via REST+JWT, Ping/Pong, Seek Graph subscription, Move transmission.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls18\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 OGSModels.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : Data Structures.\cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls18\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Role:
\f1\b0 \'a0Codable structs for parsing OGS JSON (
\f2\fs26 \cf4 \cb5 \strokec4 OGSChallenge
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 GameInfo
\f1\fs28 \cf2 \cb3 \strokec2 , etc.).\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 Views (The UI)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls19\ilvl0
\f5\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 ContentView.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : Root Switcher (swaps 2D/3D).\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 ContentView2D.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The 2D Layout container.\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 ContentView3D.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The 3D Layout container (holds\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SceneView
\f1\fs28 \cf2 \cb3 \strokec2 \'a0+ Overlay UI).\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 BoardView2D.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The actual drawing of the 2D board (Images + Canvas Grid).\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 SimpleBowlView.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : Renders the Lids and captured stones.\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 RightPanelView.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The unified sidebar (Local Info Card vs. OGS Browser).\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 SettingsPanel.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The slide-out drawer for preferences.\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 SharedOverlays.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : The container for the Settings Panel and top-left buttons.\cb1 \
\ls19\ilvl0
\f5\b\fs26 \cf4 \cb5 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 SupportingViews.swift
\f1\b0\fs28 \cf2 \cb3 \strokec2 : Reusable components (
\f2\fs26 \cf4 \cb5 \strokec4 GameInfoCard
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 PlaybackControls
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 TatamiBackground
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 FrostedGlass
\f1\fs28 \cf2 \cb3 \strokec2 ).\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 2. Global & Key Variables Dictionary\
\pard\pardeftab720\partightenfactor0

\fs28 \cf2 \cb3 \strokec2 In\'a0
\f5\fs26 \cf4 \cb5 \strokec4 AppModel
\f0\fs28 \cf2 \cb3 \strokec2 \

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2432\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3056\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth9730\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec17 Variable\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Type\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Purpose\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2432\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3056\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth9730\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\b0\fs26 \cf4 \cb5 \strokec4 player
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 SGFPlayer
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The core engine processing SGF rules and move trees.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2432\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3056\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth9730\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 games
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 [SGFGameWrapper]
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The playlist of loaded local files.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2432\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3056\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth9730\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 selection
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 SGFGameWrapper?
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The currently active game file.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2432\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3056\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth9730\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 isOnlineMode
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 Bool
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 Toggle:
\f1\b0 \'a0Determines if the Right Panel shows Local Metadata or OGS Browser.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2432\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3056\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth9730\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 gameSettings
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 GameSettings
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Configuration for creating\'a0
\f3\i new
\f1\i0 \'a0OGS games (Time, Rank, Size).\cf0 \cb1 \cell \lastrow\row
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 In\'a0
\f5\fs26 \cf4 \cb5 \strokec4 BoardViewModel
\f0\fs28 \cf2 \cb3 \strokec2 \

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3992\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6969\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec17 Variable\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Type\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Purpose\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3992\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6969\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\b0\fs26 \cf4 \cb5 \strokec4 currentMoveIndex
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 Int
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The current node in the game tree (0 = start).\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3992\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6969\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 stones
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 [BoardPosition: Stone]
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The source of truth for what stones are visible.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3992\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6969\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 lastMovePosition
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 BoardPosition?
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Where the last stone was placed (used for markers).\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3992\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6969\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 blackCapturedCount
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 Int
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Capture statistics.\cf0 \cb1 \cell \lastrow\row
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 In\'a0
\f5\fs26 \cf4 \cb5 \strokec4 AppSettings
\f0\fs28 \cf2 \cb3 \strokec2 \'a0(Persisted)\

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth1429\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7899\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec17 Variable\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Default\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Purpose\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth1429\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7899\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\b0\fs26 \cf4 \cb5 \strokec4 panelOpacity
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 0.3
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Controls the transparency tint of UI panels.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth1429\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7899\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 panelDiffusiveness
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 0.8
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Controls the "Frosted Glass" blur intensity.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth1429\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7899\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 jitterMultiplier
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 1.0
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Controls how "messy" the stones look (irregular placement).\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3368\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth1429\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7899\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 moveInterval
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 0.5
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Speed of auto-play (seconds per move).\cf0 \cb1 \cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 3. Rendering Specifications\
\pard\pardeftab720\partightenfactor0

\fs28 \cf2 \cb3 \strokec2 2D Rendering Strategy\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls20\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Texture:
\f1\b0 \'a0Uses\'a0
\f2\fs26 \cf4 \cb5 \strokec4 Image("board_kaya")
\f1\fs28 \cf2 \cb3 \strokec2 \'a0for the wood.\cb1 \
\ls20\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Stones:
\f1\b0 \'a0Uses\'a0
\f2\fs26 \cf4 \cb5 \strokec4 Image("stone_black")
\f1\fs28 \cf2 \cb3 \strokec2 \'a0and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 Image("clam_01"..."05")
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls20\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Stable Randomness:
\f1\b0 \'a0White stones pick their texture based on their\'a0
\f0\b grid coordinate
\f1\b0 \'a0(Seed =\'a0
\f2\fs26 \cf4 \cb5 \strokec4 row * 19 + col
\f1\fs28 \cf2 \cb3 \strokec2 ). This ensures\'a0
\f2\fs26 \cf4 \cb5 \strokec4 D4
\f1\fs28 \cf2 \cb3 \strokec2 \'a0always has the same grain pattern, preventing flickering during redraws.\cb1 \
\ls20\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Layering (Z-Index):
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls20\ilvl1\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Board Image\cb1 \
\ls20\ilvl1\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Grid Lines (Canvas)\cb1 \
\ls20\ilvl1\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Glow Effect (If last move)\cb1 \
\ls20\ilvl1\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Stone Image\cb1 \
\ls20\ilvl1\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	5	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Markers (Dot/Circle/Number)\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 3D Rendering Strategy\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls21\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Geometry:
\f1\b0 \'a0Uses standard\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SCNSphere
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(squashed on Y-axis) for stones.\cb1 \
\ls21\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Materials:
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls21\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 White:
\f1\b0 \'a0High specular (Glossy), low roughness. Color:\'a0
\f2\fs26 \cf4 \cb5 \strokec4 0.95
\f1\fs28 \cf2 \cb3 \strokec2 \'a0white.\cb1 \
\ls21\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f8 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Black:
\f1\b0 \'a0Low specular (Matte), higher roughness. Color:\'a0
\f2\fs26 \cf4 \cb5 \strokec4 0.1
\f1\fs28 \cf2 \cb3 \strokec2 \'a0grey.\cb1 \
\ls21\ilvl1
\f3\i \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7\i0 \uc0\u9702 
\f3\i 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Note:
\f1\i0 \'a0Textures are\'a0
\f0\b disabled
\f1\b0 \'a0in 3D due to UV mapping complexity on spheres.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls21\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Lids:
\f1\b0 \'a0Uses\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SCNCylinder
\f1\fs28 \cf2 \cb3 \strokec2 \'a0with\'a0
\f2\fs26 \cf4 \cb5 \strokec4 go_lid_1
\f1\fs28 \cf2 \cb3 \strokec2 \'a0/\'a0
\f2\fs26 \cf4 \cb5 \strokec4 go_lid_2
\f1\fs28 \cf2 \cb3 \strokec2 \'a0textures applied.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 4. OGS Coordinate Systems\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf2 Crucial for debugging move logic.
\f1\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls22\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 SGF Files:
\f1\b0 \'a0Use letter coordinates.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 aa
\f1\fs28 \cf2 \cb3 \strokec2 \'a0= Top-Left.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ss
\f1\fs28 \cf2 \cb3 \strokec2 \'a0= Bottom-Right (19x19).\cb1 \
\ls22\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS WebSocket (Incoming):
\f1\b0 \'a0Uses 0-indexed Integers.\'a0
\f2\fs26 \cf4 \cb5 \strokec4 x: 0, y: 0
\f1\fs28 \cf2 \cb3 \strokec2 \'a0= Top-Left.\cb1 \
\ls22\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS WebSocket (Outgoing):
\f1\b0 \'a0Expects\'a0
\f0\b SGF Strings
\f1\b0 \'a0(e.g.,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 "pd"
\f1\fs28 \cf2 \cb3 \strokec2 ).\cb1 \
\ls22\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Our Internal Model (
\f5\fs26 \cf4 \cb5 \strokec4 BoardPosition
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a00-indexed Integers (
\f2\fs26 \cf4 \cb5 \strokec4 row
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 col
\f1\fs28 \cf2 \cb3 \strokec2 ).\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 5. Current Tasks / Backlog\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls23\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Keyboard:
\f1\b0 \'a0Shift+Arrow shortcuts implemented via hidden buttons in\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ContentView2D
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(workaround for macOS version compatibility).\cb1 \
\ls23\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Automatch:
\f1\b0 \'a0The UI exists (
\f2\fs26 \cf4 \cb5 \strokec4 OGSBrowserView
\f1\fs28 \cf2 \cb3 \strokec2 ), but the "Create Game" button needs to be wired to\'a0
\f2\fs26 \cf4 \cb5 \strokec4 app.ogsClient.startAutomatch()
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls23\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Gameplay:
\f1\b0 \'a0Move reception from OGS works, but we need to ensure the local board locks/unlocks correctly based on whose turn it is (Online vs Local analysis).\cb1 \
\pard\pardeftab720\partightenfactor0

\f4\fs24 \cf0 \cb20 \strokec17 \
\pard\pardeftab720\partightenfactor0

\f1\fs28 \cf2 \cb1 \strokec2 \
\
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs48 \cf2 \cb3 \strokec2 SGFPlayerClean: Technical Appendix (Algorithms & Conventions)\
\pard\pardeftab720\partightenfactor0

\fs36 \cf2 1. Coordinate Systems & Conversion Logic\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf2 This is the #1 source of bugs in Go apps. We use\'a0
\f9\b \cf2 \cb3 \strokec2 Three
\f3\b0 \cf2 \cb3 \strokec2 \'a0distinct coordinate systems.
\f1\i0 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 A. The Logical Grid (Source of Truth)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls24\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Structure:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 BoardPosition(row: Int, col: Int)
\f1\fs28 \cf2 \cb1 \strokec2 \
\ls24\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Origin:
\f1\b0 \'a0(0,0) is\'a0
\f0\b Top-Left
\f1\b0 .\cb1 \
\ls24\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Range:
\f1\b0 \'a00 to 18 (for 19x19).\cb1 \
\ls24\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Used By:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 BoardViewModel
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SGFPlayer
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 B. The 2D Screen Space (SwiftUI)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls25\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Origin:
\f1\b0 \'a0Top-Left of the Board Image.\cb1 \
\ls25\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Formula:
\f1\b0 \cb1 \uc0\u8232 
\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 Swift\cb1 \uc0\u8232 \u8232 
\f2\fs26 \cf10 \cb8 \strokec10 x = (col + \cf12 \strokec12 1\cf10 \strokec10 ) * cellWidth  \cf15 \strokec15 // +1 accounts for margin/padding\cf10 \strokec10 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls25\ilvl0\cf10 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10 y = (row + \cf12 \strokec12 1\cf10 \strokec10 ) * cellHeight\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 \uc0\u8232 \cf2 \cb1 \strokec2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls25\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Aspect Ratio:
\f1\b0 \'a0The board is\'a0
\f0\b not square
\f1\b0 . It is\'a0
\f2\fs26 \cf4 \cb5 \strokec4 1.0 : 1.0773
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(slightly tall). Code must respect this aspect ratio when calculating\'a0
\f2\fs26 \cf4 \cb5 \strokec4 cellHeight
\f1\fs28 \cf2 \cb3 \strokec2 , or stones will look oval.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec2 C. The 3D World Space (SceneKit)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls26\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Plane:
\f1\b0 \'a0Stones lie on the\'a0
\f0\b XZ Plane
\f1\b0 . Y is Up (Height).\cb1 \
\ls26\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Origin:
\f1\b0 \'a0(0,0,0) is the\'a0
\f0\b Center
\f1\b0 \'a0of the board.\cb1 \
\ls26\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Formula:
\f1\b0 \cb1 \uc0\u8232 
\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 Swift\cb1 \uc0\u8232 \u8232 
\f2\fs26 \cf10 \cb8 \strokec10 x = (col * cellWidth) + offsetX  \cf15 \strokec15 // offsetX = -totalWidth / 2.0\cf10 \strokec10 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls26\ilvl0\cf10 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10 z = (row * cellHeight) + offsetZ \cf15 \strokec15 // offsetZ = -totalHeight / 2.0\cf10 \strokec10 \
\ls26\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10 y = boardThickness / \cf12 \strokec12 2.0\cf10 \strokec10  + (stoneThickness / \cf12 \strokec12 2.0\cf10 \strokec10 ) - \cf12 \strokec12 0.01\cf10 \strokec10  \cf15 \strokec15 // 0.01 sink to prevent floating\cf10 \cb1 \strokec10 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 \uc0\u8232 \cf2 \cb1 \strokec2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls26\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Important:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 row
\f1\fs28 \cf2 \cb3 \strokec2 \'a0maps to\'a0
\f2\fs26 \cf4 \cb5 \strokec4 z
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(depth),\'a0
\f2\fs26 \cf4 \cb5 \strokec4 col
\f1\fs28 \cf2 \cb3 \strokec2 \'a0maps to\'a0
\f2\fs26 \cf4 \cb5 \strokec4 x
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(width).\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 2. The "Stable Randomness" Algorithm\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf2 Used to give stones varied textures (2D) without flickering during redraws.
\f1\i0 \
We do\'a0
\f0\b not
\f1\b0 \'a0store the texture variant in the model. We calculate it on the fly using the stone's position as a seed.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls27\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Formula:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 seed = (row * 19) + col
\f1\fs28 \cf2 \cb1 \strokec2 \
\ls27\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Selection:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 variant = (seed % 5) + 1
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(Selects\'a0
\f2\fs26 \cf4 \cb5 \strokec4 clam_01
\f1\fs28 \cf2 \cb3 \strokec2 ...
\f2\fs26 \cf4 \cb5 \strokec4 clam_05
\f1\fs28 \cf2 \cb3 \strokec2 ).\cb1 \
\ls27\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Why:
\f1\b0 \'a0If we used\'a0
\f2\fs26 \cf4 \cb5 \strokec4 Int.random()
\f1\fs28 \cf2 \cb3 \strokec2 , the stones would change texture every time a move was played (causing a strobe effect).\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 3. Asset Catalog Naming Convention (Strict)\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0\fs28 \cf2 The code explicitly looks for these exact string names. If assets are renamed, the UI breaks.\

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 \strokec17 Asset Name\cf0 \cb1 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Description\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\b0\fs26 \cf4 \cb5 \strokec4 board_kaya
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The wood texture for the board background.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 tatami
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The straw mat background for the window.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 stone_black
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 The Slate stone texture.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 stone_white
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Generic white stone (fallback).\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 clam_01
\f1\fs28 \cf2 \cb3 \strokec17 \'a0-\'a0
\f2\fs26 \cf4 \cb5 \strokec4 clam_05
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 5 variations of shell grain for white stones.\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 go_lid_1
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Texture for the Black player's lid (holds White captures).\cf0 \cb1 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth3073\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth7380\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2\fs26 \cf4 \cb5 \strokec4 go_lid_2
\f1\fs28 \cf0 \cb1 \strokec17 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 \cb3 Texture for the White player's lid (holds Black captures).\cf0 \cb1 \cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 4. Camera "Fill Frame" Logic\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0\fs28 \cf2 The logic to ensure the board always fits the window without leaving huge gaps.
\f1\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls28\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Logic:
\f1\b0 \'a0We do not simply center the camera. We calculate a\'a0
\f2\fs26 \cf4 \cb5 \strokec4 distance
\f1\fs28 \cf2 \cb3 \strokec2 \'a0based on the window's aspect ratio relative to the board's aspect ratio (1.1).\cb1 \
\ls28\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Base Distance:
\f1\b0 \'a0
\f2\fs26 \cf4 \cb5 \strokec4 25.0
\f1\fs28 \cf2 \cb3 \strokec2 \'a0units.\cb1 \
\ls28\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Adjustment:
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls28\ilvl1\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7 \uc0\u9702 
\f1 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 If Window is\'a0
\f0\b Wide
\f1\b0 : Keep Base Distance (Fit Height).\cb1 \
\ls28\ilvl1\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7 \uc0\u9702 
\f1 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 If Window is\'a0
\f0\b Narrow
\f1\b0 : Increase Distance (
\f2\fs26 \cf4 \cb5 \strokec4 base * (targetRatio / windowRatio)
\f1\fs28 \cf2 \cb3 \strokec2 ) to push camera back and Fit Width.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 5. Known Workarounds & "Hacks"\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls29\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Keyboard Shortcuts:
\f1\b0 \'a0We use a hidden\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ZStack
\f1\fs28 \cf2 \cb3 \strokec2 \'a0of empty buttons in\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ContentView2D
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to capture\'a0
\f2\fs26 \cf4 \cb5 \strokec4 Shift + Arrow
\f1\fs28 \cf2 \cb3 \strokec2 \'a0events. This circumvents a macOS version incompatibility with the modern\'a0
\f2\fs26 \cf4 \cb5 \strokec4 .onKeyPress
\f1\fs28 \cf2 \cb3 \strokec2 \'a0modifier.\cb1 \
\ls29\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Frosted Glass:
\f1\b0 \'a0We use a custom\'a0
\f2\fs26 \cf4 \cb5 \strokec4 .ultraThinMaterial
\f1\fs28 \cf2 \cb3 \strokec2 \'a0background combined with a low-opacity color overlay (
\f2\fs26 \cf4 \cb5 \strokec4 opacity(0.3)
\f1\fs28 \cf2 \cb3 \strokec2 ) because standard SwiftUI materials don't support "tinting" directly without being too opaque.\cb1 \
\ls29\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3D Textures:
\f1\b0 \'a0We intentionally\'a0
\f0\b disabled
\f1\b0 \'a0textures on 3D stones (using solid glossy materials instead) because SceneKit's default spherical mapping distorts planar textures at the equator.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\cf2 \strokec2 \
\
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs48 \cf2 \cb3 SGFPlayerClean: "Here Be Dragons" (Risk Analysis & Warnings)\
\pard\pardeftab720\partightenfactor0

\fs36 \cf2 1. The "Two-Brain" Problem (State Synchronization)\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 The Danger:
\f1\b0 \'a0The app has two sources of truth: the local\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SGFPlayer
\f1\fs28 \cf2 \cb3 \strokec2 \'a0engine (which follows SGF rules) and the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(which follows server events).\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls30\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Risk:
\f1\b0 \'a0If a user clicks the board during a live OGS game, we currently perform an "Optimistic Update" (place stone immediately). If the server rejects the move (lag, rule disagreement, timeout), the local board will be out of sync with reality.\cb1 \
\ls30\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Mitigation:
\f1\b0 \'a0We need to implement a "Rollback" mechanism. If\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 \'a0receives an error or a board state update that conflicts with the local state, the local state must be forcibly overwritten by the server state.\cb1 \
\ls30\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Rule:
\f1\b0 \'a0
\f0\b Server State always trumps Local State.
\f1\b0 \cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 2. Threading & The Main Actor\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 The Danger:
\f1\b0 \'a0OGS WebSocket events arrive on a background network thread. SceneKit and SwiftUI\'a0
\f0\b will crash
\f1\b0 \'a0if you try to update UI state (
\f2\fs26 \cf4 \cb5 \strokec4 @Published
\f1\fs28 \cf2 \cb3 \strokec2 \'a0vars) from that background thread.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls31\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Symptom:
\f1\b0 \'a0Purple warnings in Xcode or immediate crashes.\cb1 \
\ls31\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Rule:
\f1\b0 \'a0Every single callback in\'a0
\f2\fs26 \cf4 \cb5 \strokec4 OGSClient
\f1\fs28 \cf2 \cb3 \strokec2 \'a0that touches\'a0
\f2\fs26 \cf4 \cb5 \strokec4 app.boardVM
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 app.games
\f1\fs28 \cf2 \cb3 \strokec2 , or\'a0
\f2\fs26 \cf4 \cb5 \strokec4 app.ogsGame
\f1\fs28 \cf2 \cb3 \strokec2 \'a0must be wrapped in:\cb1 \uc0\u8232 
\f4\fs36 \cf7 \cb8 \strokec7 code\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 Swift\cb1 \uc0\u8232 \u8232 
\f2\fs26 \cf10 \cb8 \strokec10 DispatchQueue.main.\cf13 \strokec13 async\cf10 \strokec10  \{\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls31\ilvl0\cf10 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10     // Update UI here\
\ls31\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec10 \}\cb1 \uc0\u8232 
\f1\fs28 \cf9 \cb8 \strokec9 \uc0\u8232 \cf2 \cb1 \strokec2 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 3. SceneKit "Node Churn" Performance\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 The Danger:
\f1\b0 \'a0Currently,\'a0
\f2\fs26 \cf4 \cb5 \strokec4 SceneManager3D.updateStones()
\f1\fs28 \cf2 \cb3 \strokec2 \'a0deletes\'a0
\f0\b every
\f1\b0 \'a0stone node and recreates them from scratch on every single move.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls32\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Risk:
\f1\b0 \'a0On older Macs, playing through a game quickly (holding down arrow key) might cause frame drops or memory spikes because we are allocating/deallocating geometry hundreds of times per second.\cb1 \
\ls32\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Future Optimization:
\f1\b0 \'a0Instead of\'a0
\f2\fs26 \cf4 \cb5 \strokec4 removeAll()
\f1\fs28 \cf2 \cb3 \strokec2 , we should eventually implement a "Diffing" algorithm (only add/remove the specific stones that changed) or use an Object Pool pattern.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 4. Coordinate "Off-By-One" Traps\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 The Danger:
\f1\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls33\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 SGF:
\f1\b0 \'a00-18 (a-s).\cb1 \
\ls33\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 SwiftUI Board:
\f1\b0 \'a01-19 (for visual grid alignment).\cb1 \
\ls33\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS API:
\f1\b0 \'a00-18.\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls34\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Risk:
\f1\b0 \'a0It is incredibly easy to accidentally add or subtract\'a0
\f2\fs26 \cf4 \cb5 \strokec4 1
\f1\fs28 \cf2 \cb3 \strokec2 \'a0when converting between the View layer (clicks) and the Model layer.\cb1 \
\ls34\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Symptom:
\f1\b0 \'a0You click D4, but the stone appears on D3 or E4.\cb1 \
\ls34\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Rule:
\f1\b0 \'a0Always convert Clicks ->\'a0
\f2\fs26 \cf4 \cb5 \strokec4 BoardPosition
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(0-indexed) immediately. Never pass raw screen coordinates deeper than the View layer.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 5. Keyboard Focus Stealing\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 The Danger:
\f1\b0 \'a0We rely on\'a0
\f2\fs26 \cf4 \cb5 \strokec4 keyboardShortcuts
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(via hidden buttons) in\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ContentView2D
\f1\fs28 \cf2 \cb3 \strokec2 .\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls35\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Risk:
\f1\b0 \'a0If the user clicks into a Text Field (e.g., Chat, or Game Setup inputs), the main view loses focus. Arrow keys might stop working for board navigation until the user clicks the board background again.\cb1 \
\ls35\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Mitigation:
\f1\b0 \'a0We may need to explicitly force focus back to the main window using\'a0
\f2\fs26 \cf4 \cb5 \strokec4 .focusable()
\f1\fs28 \cf2 \cb3 \strokec2 \'a0and\'a0
\f2\fs26 \cf4 \cb5 \strokec4 @FocusState
\f1\fs28 \cf2 \cb3 \strokec2 \'a0in the future if we add Chat features.\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \cb3 \strokec2 6. Window Aspect Ratio Extremes\
\pard\pardeftab720\sa360\partightenfactor0

\fs28 \cf2 The Danger:
\f1\b0 \'a0The current 2D layout math assumes a generally "normal" window shape.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls36\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Risk:
\f1\b0 \'a0If a user makes the window extremely tall and skinny (like a smartphone strip) or extremely wide and short, the\'a0
\f2\fs26 \cf4 \cb5 \strokec4 calculateBoardFrame
\f1\fs28 \cf2 \cb3 \strokec2 \'a0math might force the board to be tiny, or the Lids might overlap the board.\cb1 \
\ls36\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Mitigation:
\f1\b0 \'a0We currently rely on\'a0
\f2\fs26 \cf4 \cb5 \strokec4 frame(minWidth: 900, minHeight: 700)
\f1\fs28 \cf2 \cb3 \strokec2 \'a0in\'a0
\f2\fs26 \cf4 \cb5 \strokec4 ContentView
\f1\fs28 \cf2 \cb3 \strokec2 .\'a0
\f0\b Do not remove these constraints
\f1\b0 \'a0without testing extreme resizing, or the layout will break.\cb1 \
}