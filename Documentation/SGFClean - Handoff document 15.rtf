{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica-Bold;\f1\fswiss\fcharset0 Helvetica;\f2\fmodern\fcharset0 Courier;
\f3\fmodern\fcharset0 Courier-Bold;\f4\fnil\fcharset0 STIXTwoMath-Regular;\f5\froman\fcharset0 TimesNewRomanPSMT;
\f6\froman\fcharset0 Times-Italic;\f7\fnil\fcharset0 LucidaGrande-Bold;\f8\fnil\fcharset0 AppleColorEmoji;
}
{\colortbl;\red255\green255\blue255;\red219\green219\blue223;\red19\green19\blue19;\red109\green109\blue109;
\red251\green251\blue251;\red38\green38\blue38;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c88627\c88627\c89804;\cssrgb\c9804\c9804\c9804;\cssrgb\c50196\c50196\c50196;
\cssrgb\c98824\c98824\c98824;\cssrgb\c19608\c19608\c19608;\cssrgb\c0\c0\c0;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid101\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid302\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid701\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid801\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid9}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs48 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Handover Document v8.600: SGFPlayerClean Project\
\pard\pardeftab720\partightenfactor0

\fs36 \cf2 \cb3 \strokec2 1. Project Kickoff Script\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0\fs28 \cf2 "I am continuing the SGFPlayerClean project. We have reached\'a0
\f0\b v8.600
\f1\b0 , which features a high-performance 3D interaction layer with 'Object Pulling' physics, viewport persistence, and instant move playback. The system has been hardened against Main-Thread stalls and SceneKit deadlocks. I have Handover Document v8.600. Please acknowledge the Rules of Engagement. My next priority is to ensure\'a0
\f0\b Lid Variety
\f1\b0 \'a0(Clam assets) and complete the\'a0
\f0\b OGS REST integration
\f1\b0 \'a0for joining live games."\
\pard\pardeftab720\partightenfactor0
\cf4 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 2. Rules of Engagement (Strict Enforcement)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls1\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Trust the User:
\f1\b0 \'a0Accept sidebar states and folder paths as absolute truth.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 No Guessing:
\f1\b0 \'a0Never assume the content of a file. If a file hasn't been pasted in the current session, ask the user.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Full Code Drop-ins Only:
\f1\b0 \'a0Provide entire file contents so the user can "Select All > Paste."\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Single Source of Truth:
\f1\b0 \'a0All Enums, Structs, SGF Parsing, and Coordinate handling must live in\'a0
\f2\fs26 \cf5 \cb6 \strokec5 OGSModels.swift
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Zero Redundancy:
\f1\b0 \'a0If a type is moved to\'a0
\f2\fs26 \cf5 \cb6 \strokec5 OGSModels.swift
\f1\fs28 \cf2 \cb3 \strokec2 , any individual files containing that type must be deleted immediately.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Spatial Consistency:
\f1\b0 \'a0Maintain the\'a0
\f0\b 1:1.0773
\f1\b0 \'a0aspect ratio for the board and the\'a0
\f0\b 6.5%
\f1\b0 \'a0wood margin.\cb1 \
\ls1\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Linear Spatial Rendering:
\f1\b0 \'a0Always render stones using the flat\'a0
\f2\fs26 \cf5 \cb6 \strokec5 stonesToRender
\f1\fs28 \cf2 \cb3 \strokec2 \'a0array calculated in a background Task to prevent Z-order flickering and Main Thread locking.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 3. Updated Architectural Map\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls2\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Root Coordinator (
\f3\fs26 \cf5 \cb6 \strokec5 AppModel.swift
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a0Owns the lifecycle. Manages the transition between Local and Online modes.\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Engine (
\f3\fs26 \cf5 \cb6 \strokec5 SGFPlayerEngine.swift
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a0Pure Go logic. Finalizes board snapshots and pre-flattens stone lists to prevent UI-layer scanning (\cb1 \uc0\u8232 
\f4\fs33\fsmilli16940 \cb3 O\cb1 \uc0\u8232 \cb3 (\cb1 \uc0\u8232 \cb3 N\cb1 \uc0\u8232 
\fs24 \cb3 3\cb1 \uc0\u8232 
\fs33\fsmilli16940 \uc0\u8232 \cb3 )\cb1 \uc0\u8232 \u8232 \u8232 
\f5 \uc0\u8232 
\f6\i \cb3 O
\f5\i0 (
\f6\i N
\f5\i0 \cb1 \

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalb \clshdrawnil \clwWidth135\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl0 \clpadr0 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls2\ilvl0
\fs23\fsmilli11858 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3
\fs33\fsmilli16940 \cb1 \cell \lastrow\row
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls2\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 )
\f2\fs28 \cb1 \uc0\u8232 
\f1 \cb3 \'a0fix).\cb1 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls2\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	5	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Bridge (
\f3\fs26 \cf5 \cb6 \strokec5 BoardViewModel.swift
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a0Orchestrates synchronization. Performs Jitter Math in background Tasks and signals the 3D view via\'a0
\f2\fs26 \cf5 \cb6 \strokec5 onRequestUpdate3D
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	6	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Persistence Layer (
\f3\fs26 \cf5 \cb6 \strokec5 AppSettings.swift
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a0Persists visual preferences and the\'a0
\f0\b 3D Viewport state
\f1\b0 \'a0(Rotation, Zoom, Pan).\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	7	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Truth (
\f3\fs26 \cf5 \cb6 \strokec5 OGSModels.swift
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a0Central vault for shared types, SGF Parser, and Network models.\cb1 \
\ls2\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	8	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The 3D Scene (
\f3\fs26 \cf5 \cb6 \strokec5 SceneManager3D.swift
\f0\fs28 \cf2 \cb3 \strokec2 ):
\f1\b0 \'a0High-performance imperative rendering. Uses\'a0
\f0\b Node Diffing
\f1\b0 \'a0(only adding/removing changed stones) instead of scene reconstruction.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 4. Performance & Threading Lessons (The "Lag Fix")\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Bypassing SwiftUI Diffing:
\f1\b0 \'a0SwiftUI\'92s\'a0
\f2\fs26 \cf5 \cb6 \strokec5 .onChange(of: array)
\f1\fs28 \cf2 \cb3 \strokec2 \'a0is too slow for 3D. The 3D view now uses\'a0
\f2\fs26 \cf5 \cb6 \strokec5 .onReceive(boardVM.onRequestUpdate3D)
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to trigger updates manually.\cb1 \
\ls3\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 SCNAction over SCNTransaction:
\f1\b0 \'a0To prevent deadlocks, animations (stone drops) use\'a0
\f2\fs26 \cf5 \cb6 \strokec5 SCNAction
\f1\fs28 \cf2 \cb3 \strokec2 . This offloads the animation timeline to the GPU/SceneKit thread.\cb1 \
\ls3\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Settings Caching:
\f1\b0 \'a0To avoid\'a0
\f2\fs26 \cf5 \cb6 \strokec5 os_unix.c
\f1\fs28 \cf2 \cb3 \strokec2 \'a0Disk I/O stalls,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 AppSettings
\f1\fs28 \cf2 \cb3 \strokec2 \'a0are cached into local variables once per move update.\cb1 \
\ls3\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Anti-Aliasing:
\f1\b0 \'a0The project standard is\'a0
\f2\fs26 \cf5 \cb6 \strokec5 .multisampling4X
\f1\fs28 \cf2 \cb3 \strokec2 . Higher values or improper implementation on macOS can cause 5-second driver stalls.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 5. 3D Interaction Logic ("Object Pulling")\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0\fs28 \cf2 The 3D interaction follows\'a0
\f0\b User Intent
\f1\b0 :\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls4\ilvl0
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Rotation Signs:
\f1\b0 \'a0Dragging\'a0
\f0\b Down
\f1\b0 \'a0increases X-rotation (tilts board forward). Dragging\'a0
\f0\b Right
\f1\b0 \'a0increases Y-rotation (turns board clockwise).\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Overhead View:
\f1\b0 \'a0Rotation limit is\'a0
\f0\b 1.57 radians (90\'b0)
\f1\b0 , enabling a perfect top-down rectangular view.\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 World Anchor:
\f1\b0 \'a0Panning and Rotating are applied to a\'a0
\f2\fs26 \cf5 \cb6 \strokec5 worldAnchor
\f1\fs28 \cf2 \cb3 \strokec2 \'a0node. This makes it feel like the user is "grabbing and moving the board" while the camera remains a stationary observer.\cb1 \
\ls4\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Modifiers:
\f1\b0 \cb1 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls4\ilvl1
\f0\b \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Default Drag:
\f1\b0 \'a0Rotate board.\cb1 \
\ls4\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Shift + Drag:
\f1\b0 \'a0Pan/Translate board.\cb1 \
\ls4\ilvl1
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	
\f7 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Ctrl + Shift + Drag:
\f1\b0 \'a0Zoom in/out.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 6. Visual Marker & Coordinate Logic\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls5\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Sibling Anchor Strategy:
\f1\b0 \'a0To prevent markers (Numbers, Dots) from being squashed by the stone's\'a0
\f2\fs26 \cf5 \cb6 \strokec5 0.486
\f1\fs28 \cf2 \cb3 \strokec2 \'a0scale, we use a shared parent\'a0
\f2\fs26 \cf5 \cb6 \strokec5 anchorNode
\f1\fs28 \cf2 \cb3 \strokec2 . The stone (scaled) and the markers (unscaled) are siblings.\cb1 \
\ls5\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Apex Math:
\f1\b0 \'a0Markers are placed at exactly\'a0
\f2\fs26 \cf5 \cb6 \strokec5 stoneRadius * stoneScaleY * 2.0
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(the true top surface).\cb1 \
\ls5\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Move Number Contrast:
\f1\b0 \'a0Logic is implemented to use\'a0
\f0\b White text on Black stones
\f1\b0 \'a0and\'a0
\f0\b Black text on White stones
\f1\b0 .\cb1 \
\ls5\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Board Glow:
\f1\b0 \'a0Implemented as an\'a0
\f2\fs26 \cf5 \cb6 \strokec5 SCNPlane
\f1\fs28 \cf2 \cb3 \strokec2 \'a0with a pre-generated red radial gradient.\'a0
\f2\fs26 \cf5 \cb6 \strokec5 renderingOrder
\f1\fs28 \cf2 \cb3 \strokec2 \'a0is\'a0
\f0\b 3000
\f1\b0 \'a0with\'a0
\f2\fs26 \cf5 \cb6 \strokec5 writesToDepthBuffer = false
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 7. Build Stability & Compiler Safety\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The buildExpression Error:
\f1\b0 \'a0SwiftUI's compiler times out if a View body contains too much math. Perform all layout math in private helper functions (e.g.,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 getLayout()
\f1\fs28 \cf2 \cb3 \strokec2 ) or local constants.\cb1 \
\ls6\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Button Safety:
\f1\b0 \'a0Avoid placing logic calls (e.g.\'a0
\f2\fs26 \cf5 \cb6 \strokec5 boardVM.step()
\f1\fs28 \cf2 \cb3 \strokec2 ) inside Button labels; use\'a0
\f2\fs26 \cf5 \cb6 \strokec5 Image
\f1\fs28 \cf2 \cb3 \strokec2 \'a0or\'a0
\f2\fs26 \cf5 \cb6 \strokec5 Text
\f1\fs28 \cf2 \cb3 \strokec2 \'a0only.\cb1 \
\ls6\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Contextual Base Errors:
\f1\b0 \'a0Modifiers like\'a0
\f2\fs26 \cf5 \cb6 \strokec5 .padding(.bottom)
\f1\fs28 \cf2 \cb3 \strokec2 \'a0can fail if the compiler loses track of the View type. Use\'a0
\f2\fs26 \cf5 \cb6 \strokec5 EdgeInsets
\f1\fs28 \cf2 \cb3 \strokec2 \'a0for complex layouts.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 8. Diagnostic Breadcrumb Legend\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b0\fs28 \cf2 The console logs the pipeline sequence using emojis to identify stalls:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls7\ilvl0\cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}
\f8 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 \uc0\u55356 \u57273 
\f1 \'a0
\f0\b Input:
\f1\b0 \'a0User interaction detected.\cb1 \
\ls7\ilvl0\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}
\f8 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 \uc0\u55357 \u56546 
\f1 \'a0
\f0\b Engine:
\f1\b0 \'a0Move processed by the Go rules engine.\cb1 \
\ls7\ilvl0\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}
\f8 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 \uc0\u55358 \u56810 
\f1 \'a0
\f0\b VM Math:
\f1\b0 \'a0Jitter/Coordinate math completed in background.\cb1 \
\ls7\ilvl0\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}
\f8 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 \uc0\u55356 \u57261 
\f1 \'a0
\f0\b Actor:
\f1\b0 \'a0Data handed off to the Main Actor.\cb1 \
\ls7\ilvl0\cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}
\f8 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 \uc0\u55356 \u57260 
\f1 \'a0
\f0\b GPU:
\f1\b0 \'a0SceneKit transaction committed to hardware.\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 9. Verified OGS Protocols\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls8\ilvl0
\fs28 \cf2 \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Endpoint:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 wss://wsp.online-go.com/
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(No\'a0
\f2\fs26 \cf5 \cb6 \strokec5 /socket.io/
\f1\fs28 \cf2 \cb3 \strokec2 \'a0path).\cb1 \
\ls8\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Heartbeat:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 ["net/ping", \{"client": <ms_timestamp>\}]
\f1\fs28 \cf2 \cb3 \strokec2 \'a0every 5 seconds.\cb1 \
\ls8\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Authentication:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 ["authenticate", \{"jwt": "<token>"\}]
\f1\fs28 \cf2 \cb3 \strokec2 \'a0sent immediately upon connection.\cb1 \
\ls8\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Seekgraph:
\f1\b0 \'a0
\f2\fs26 \cf5 \cb6 \strokec5 ["seek_graph/connect", \{"channel": "global"\}]
\f1\fs28 \cf2 \cb3 \strokec2 \'a0for live game list.\cb1 \
\ls8\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Write-Access Payload:
\f1\b0 \'a0Requires\'a0
\f2\fs26 \cf5 \cb6 \strokec5 game_id
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 move
\f1\fs28 \cf2 \cb3 \strokec2 ,\'a0
\f2\fs26 \cf5 \cb6 \strokec5 auth
\f1\fs28 \cf2 \cb3 \strokec2 \'a0(from REST), and\'a0
\f2\fs26 \cf5 \cb6 \strokec5 player_id
\f1\fs28 \cf2 \cb3 \strokec2 .\cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 10. Critical Variable Mapping (The "Truth Chain")\

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl0 \clpadr0 \gaph\cellx8640

\itap2\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1922\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3836\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7119\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap2\pardeftab720\partightenfactor0

\fs28 \cf2 \cb3 \strokec7 Entity\cf0 \cb1 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 Variable Name\cf0 \cb1 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 Physical Meaning\cf0 \cb1 \nestcell \nestrow

\itap2\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1922\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3836\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7119\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 Engine
\f1\b0 \cf0 \cb1 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 whiteStonesCaptured
\f1\fs28 \cf0 \cb1 \strokec7 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 White stones physically pulled off the board.\cf0 \cb1 \nestcell \nestrow

\itap2\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1922\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3836\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7119\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 ViewModel
\f1\b0 \cf0 \cb1 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 blackCapturedCount
\f1\fs28 \cf0 \cb1 \strokec7 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 Black player's loot (Count of White stones he holds).\cf0 \cb1 \nestcell \nestrow

\itap2\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1922\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3836\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7119\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 3D Lid
\f1\b0 \cf0 \cb1 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 upperLidStones
\f1\fs28 \cf0 \cb1 \strokec7 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 The visual White stones appearing in Black's (top) lid.\cf0 \cb1 \nestcell \nestrow

\itap2\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1922\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth3836\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth7119\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt120 \clpadl240 \clpadb120 \clpadr240 \gaph\cellx8640
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f0\b \cf2 \cb3 2D View
\f1\b0 \cf0 \cb1 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0

\f2\fs26 \cf5 \cb6 \strokec5 SimpleLidView(.black)
\f1\fs28 \cf0 \cb1 \strokec7 \nestcell 
\pard\intbl\itap2\pardeftab720\partightenfactor0
\cf2 \cb3 Displays the\'a0
\f2\fs26 \cf5 \cb6 \strokec5 whiteCapturedCount
\f1\fs28 \cf2 \cb3 \strokec7 \'a0as White stones.\cf0 \cb1 \nestcell \lastrow\nestrow
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf4 \cb3 \strokec4 \
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b\fs36 \cf2 \strokec2 11. Near-Term Agenda\
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls9\ilvl0
\fs28 \cf2 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Lid Variety:
\f1\b0 \'a0Refactor\'a0
\f2\fs26 \cf5 \cb6 \strokec5 SceneManager3D.updateCapturedStones
\f1\fs28 \cf2 \cb3 \strokec2 \'a0to deterministically pick from 5 Clam assets.\cb1 \
\ls9\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS REST Bridge:
\f1\b0 \'a0Finalize the\'a0
\f2\fs26 \cf5 \cb6 \strokec5 /api/v1/games/\{id\}
\f1\fs28 \cf2 \cb3 \strokec2 \'a0call to fetch the\'a0
\f2\fs26 \cf5 \cb6 \strokec5 auth
\f1\fs28 \cf2 \cb3 \strokec2 \'a0token.\cb1 \
\ls9\ilvl0
\f0\b \cb3 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 UI Polish:
\f1\b0 \'a0Ensure the 3D viewport persistence handles window resizing gracefully.\cb1 \cell \lastrow\row
}