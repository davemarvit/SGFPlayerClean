{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\froman\fcharset0 Times-Bold;\f1\fswiss\fcharset0 Helvetica-Bold;\f2\fswiss\fcharset0 Helvetica;
\f3\fswiss\fcharset0 Helvetica-Oblique;\f4\fmodern\fcharset0 Courier;\f5\froman\fcharset0 Times-Roman;
}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red251\green251\blue251;\red38\green38\blue38;
\red121\green121\blue121;\red24\green24\blue24;\red223\green219\blue218;\red202\green202\blue202;\red238\green88\blue85;
\red211\green171\blue250;\red91\green165\blue255;\red242\green139\blue64;\red125\green215\blue121;\red47\green47\blue47;
\red31\green31\blue31;\red219\green219\blue223;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;\cssrgb\c98824\c98824\c98824;\cssrgb\c19608\c19608\c19608;
\cssrgb\c54902\c54902\c54902;\cssrgb\c12157\c12157\c12157;\cssrgb\c89804\c88627\c88235;\cssrgb\c83137\c83137\c83137;\cssrgb\c95686\c43922\c40392;
\cssrgb\c86275\c74118\c98431;\cssrgb\c42353\c71373\c100000;\cssrgb\c96471\c61569\c31373;\cssrgb\c55294\c85882\c54902;\cssrgb\c24314\c24314\c24314;
\cssrgb\c16471\c16471\c16471;\cssrgb\c88627\c88627\c89804;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid502\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid602\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid701\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid801\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid9}
{\list\listtemplateid10\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid901\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid10}
{\list\listtemplateid11\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1001\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1002\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid11}
{\list\listtemplateid12\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid12}
{\list\listtemplateid13\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid1201\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid1202\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid13}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}{\listoverride\listid13\listoverridecount0\ls13}}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa360\partightenfactor0

\f0\b\fs48 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 SGFPlayerClean: Master Project Handoff (v3.1)\
\pard\pardeftab720\partightenfactor0

\fs28 \cf0 1. Project Overview\
\pard\pardeftab720\sa360\partightenfactor0

\f1 \cf0 Goal:
\f2\b0 \'a0A high-fidelity macOS Go (Baduk) application using\'a0
\f1\b SwiftUI
\f2\b0 \'a0(2D) and\'a0
\f1\b SceneKit
\f2\b0 \'a0(3D).\uc0\u8232 
\f1\b Current State:
\f2\b0 \'a0
\f1\b Stable & Polished
\f2\b0 .\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls1\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 OGS:
\f2\b0 \'a0Connected, Authenticated, Stable (Heartbeat & CORS fixed).\
\ls1\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 2D:
\f2\b0 \'a0Photorealistic (Textures + Jitter), Deep Red Glow effects, Native Keyboard navigation.\
\ls1\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3D:
\f2\b0 \'a0SceneKit environment with "Drop-in" animation, shadows, and radial glow effects.\
\pard\pardeftab720\partightenfactor0

\f0\b \cf0 \strokec2 2. Architecture & "The Third Rail" (Critical Rules)\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0 \cf0 Violating these rules causes immediate regressions.
\f2\i0 \
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 A. The Float/CGFloat Boundary
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls2\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Rule:
\f2\b0 \'a0
\f1\b SwiftUI
\f2\b0 \'a0uses\'a0
\f4\fs26 \cf3 \cb4 \strokec3 Float
\f2\fs28 \cf0 \cb1 \strokec2 .\'a0
\f1\b SceneKit
\f2\b0 \'a0uses\'a0
\f4\fs26 \cf3 \cb4 \strokec3 CGFloat
\f2\fs28 \cf0 \cb1 \strokec2 .\
\ls2\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 The Boundary:
\f2\b0 \'a0
\f4\fs26 \cf3 \cb4 \strokec3 SceneManager3D
\f2\fs28 \cf0 \cb1 \strokec2 . Its public API must accept\'a0
\f4\fs26 \cf3 \cb4 \strokec3 Float
\f2\fs28 \cf0 \cb1 \strokec2 \'a0(from UI) and cast to\'a0
\f4\fs26 \cf3 \cb4 \strokec3 CGFloat
\f2\fs28 \cf0 \cb1 \strokec2 \'a0internally.\'a0
\f3\i Never change the public API to CGFloat.
\f2\i0 \
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 B. Data Source of Truth
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls3\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Rule:
\f2\b0 \'a0
\f4\fs26 \cf3 \cb4 \strokec3 BoardViewModel.stones
\f2\fs28 \cf0 \cb1 \strokec2 \'a0(Dictionary\'a0
\f4\fs26 \cf3 \cb4 \strokec3 [BoardPosition: Stone]
\f2\fs28 \cf0 \cb1 \strokec2 ) is the\'a0
\f1\b only
\f2\b0 \'a0source of truth.\
\ls3\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Trap:
\f2\b0 \'a0Do not rely on\'a0
\f4\fs26 \cf3 \cb4 \strokec3 BoardSnapshot
\f2\fs28 \cf0 \cb1 \strokec2 \'a0grid arrays for logic, only for rendering iteration.\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 C. The "Server Truth" Rule (Gameplay)
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls4\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Rule:
\f2\b0 \'a0If OGS returns an error or a board update that conflicts,\'a0
\f1\b Server State trumps Local State
\f2\b0 .\
\ls4\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Visual Risk:
\f2\b0 \'a0"Double Animation". If the server confirms a move we already animated locally (Optimistic Update),\'a0
\f3\i do not animate it again
\f2\i0 . Check if the stone exists before triggering the drop-in.\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 D. Z-Index, Jitter & Randomness
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls5\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Jitter Rule:
\f2\b0 \'a0Any effect (Glow, Marker, Shadow) must calculate the\'a0
\f1\b exact same jitter offset
\f2\b0 \'a0as the stone it belongs to.\
\ls5\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Stable Randomness (2D):
\f2\b0 \'a0Do not use\'a0
\f4\fs26 \cf3 \cb4 \strokec3 Int.random()
\f2\fs28 \cf0 \cb1 \strokec2 \'a0for stone textures. Use\'a0
\f4\fs26 \cf3 \cb4 \strokec3 seed = (row * 19) + col
\f2\fs28 \cf0 \cb1 \strokec2 \'a0to ensure a specific intersection always has the same shell grain.\
\ls5\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3D Layering:
\f2\b0 \'a0Glows are\'a0
\f4\fs26 \cf3 \cb4 \strokec3 SCNPlane
\f2\fs28 \cf0 \cb1 \strokec2 s. They must have\'a0
\f4\fs26 \cf3 \cb4 \strokec3 castsShadow = false
\f2\fs28 \cf0 \cb1 \strokec2 ,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 lightingModel = .constant
\f2\fs28 \cf0 \cb1 \strokec2 , and the Stone above them must temporarily have\'a0
\f4\fs26 \cf3 \cb4 \strokec3 castsShadow = false
\f2\fs28 \cf0 \cb1 \strokec2 \'a0to let the glow visible.\
\pard\pardeftab720\partightenfactor0

\f0\b \cf0 \strokec2 3. Project File Map\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\f1 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 State:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 AppModel.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Root state, owns\'a0
\f4\fs26 \cf3 \cb4 \strokec3 OGSClient
\f2\fs28 \cf0 \cb1 \strokec2 \'a0and\'a0
\f4\fs26 \cf3 \cb4 \strokec3 SGFPlayer
\f2\fs28 \cf0 \cb1 \strokec2 .\
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 BoardViewModel.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Game logic (Rules, Captures, Move History).\
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 AppSettings.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Persisted preferences (Glow toggles, Speeds).\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Network:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 OGSClient.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Raw WebSocket implementation (Not Socket.IO lib).\
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 OGSModels.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Codable structs for JSON parsing.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Rendering:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 ContentView2D.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Main 2D container + Keyboard Handler.\
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 BoardView2D.swift
\f2\fs28 \cf0 \cb1 \strokec2 : 2D Canvas rendering (Grid + Stones).\
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 SceneManager3D.swift
\f2\fs28 \cf0 \cb1 \strokec2 : SceneKit controller (Camera, Lights, Nodes).\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls6\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 UI Components:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 RightPanelView.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Unified sidebar (Game Info vs OGS Browser).\
\ls6\ilvl1
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 OGSBrowserView.swift
\f2\fs28 \cf0 \cb1 \strokec2 : Challenge list and Game creation UI.\
\pard\pardeftab720\partightenfactor0

\f0\b \cf0 \strokec2 4. OGS Protocol (The "Gold Standard")\
\pard\pardeftab720\sa360\partightenfactor0

\f3\i\b0 \cf0 Endpoint:
\f2\i0 \'a0
\f4\fs26 \cf3 \cb4 \strokec3 wss://online-go.com/socket.io/?EIO=3&transport=websocket
\f2\fs28 \cf0 \cb1 \strokec2 \
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 A. The Coordinate "Rosetta Stone" (Critical)
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls7\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Incoming (OGS -> App):
\f2\b0 \'a00-indexed Integers (
\f4\fs26 \cf3 \cb4 \strokec3 x
\f2\fs28 \cf0 \cb1 \strokec2 ,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 y
\f2\fs28 \cf0 \cb1 \strokec2 ).\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls7\ilvl1
\f3\i \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Trap:
\f2\i0 \'a0A Pass move is sent as\'a0
\f4\fs26 \cf3 \cb4 \strokec3 x: -1, y: -1
\f2\fs28 \cf0 \cb1 \strokec2 .\'a0
\f1\b Do not render this.
\f2\b0 \'a0Handle it as a text event.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls7\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Outgoing (App -> OGS):
\f2\b0 \'a0
\f1\b SGF Strings
\f2\b0 \'a0(e.g., "pd", "aa").\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls7\ilvl1
\f3\i \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Conversion:
\f2\i0 \'a00=
\f4\fs26 \cf3 \cb4 \strokec3 a
\f2\fs28 \cf0 \cb1 \strokec2 , 18=
\f4\fs26 \cf3 \cb4 \strokec3 s
\f2\fs28 \cf0 \cb1 \strokec2 . (e.g., 15,3 -> "pd").\
\ls7\ilvl1
\f3\i \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Warning:
\f2\i0 \'a0If you send integers to the server, the move will fail silently.\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 B. Connection Essentials
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls8\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 CORS:
\f2\b0 \'a0Must set header\'a0
\f4\fs26 \cf3 \cb4 \strokec3 Origin: https://online-go.com
\f2\fs28 \cf0 \cb1 \strokec2 .\
\ls8\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Heartbeat:
\f2\b0 \'a0Send\'a0
\f4\fs26 \cf3 \cb4 \strokec3 "2"
\f2\fs28 \cf0 \cb1 \strokec2 \'a0every\'a0
\f1\b 2.0 seconds
\f2\b0 \'a0(Strict). Ignore server\'a0
\f4\fs26 \cf3 \cb4 \strokec3 "3"
\f2\fs28 \cf0 \cb1 \strokec2 \'a0responses.\
\ls8\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Clock:
\f2\b0 \'a0Must include\'a0
\f4\fs26 \cf3 \cb4 \strokec3 player_id
\f2\fs28 \cf0 \cb1 \strokec2 \'a0in\'a0
\f4\fs26 \cf3 \cb4 \strokec3 game/connect
\f2\fs28 \cf0 \cb1 \strokec2 \'a0payload to receive clock events.\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 C. JSON Parsing
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls9\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Time Control:
\f2\b0 \'a0In OGS JSON,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 time_control
\f2\fs28 \cf0 \cb1 \strokec2 \'a0can be a string\'a0
\f3\i or
\f2\i0 \'a0a dictionary. We use a robust parser to format it as\'a0
\f4\fs26 \cf3 \cb4 \strokec3 "1m + 5x 30s"
\f2\fs28 \cf0 \cb1 \strokec2 .\
\ls9\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Seek Graph:
\f2\b0 \'a0
\f4\fs26 \cf3 \cb4 \strokec3 seek_graph/global
\f2\fs28 \cf0 \cb1 \strokec2 \'a0contains\'a0
\f1\b Challenges
\f2\b0 \'a0(Play Tab), not active games.\
\pard\pardeftab720\partightenfactor0

\f0\b \cf0 \strokec2 5. Visual Style Guide\
\pard\pardeftab720\sa360\partightenfactor0

\f1 \cf0 A. The "Deep Red" Aesthetic
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls10\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Color:
\f2\b0 \'a0
\f4\fs26 \cf3 \cb4 \strokec3 NSColor(calibratedRed: 0.75, green: 0.0, blue: 0.0, alpha: 1.0)
\f2\fs28 \cf0 \cb1 \strokec2 .\
\ls10\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Opacity:
\f2\b0 \'a0High (~0.85 - 0.95) because we use transparency blending.\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 B. 3D Specs
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls11\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Stones:
\f2\b0 \'a0Flattened Spheres (Scale Y: 0.486).\
\ls11\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Glows:
\f2\b0 \'a0
\f4\fs26 \cf3 \cb4 \strokec3 SCNPlane
\f2\fs28 \cf0 \cb1 \strokec2 \'a0with generated\'a0
\f1\b Radial Gradient Texture
\f2\b0 \'a0(simulates blur).\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls11\ilvl1
\f3\i \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Standard:
\f2\i0 \'a0Size 1.5x, Opacity 0.9.\
\ls11\ilvl1
\f3\i \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Enhanced:
\f2\i0 \'a0Size 1.8x, Opacity 0.8, Softer gradient.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls11\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Animation:
\f2\b0 \'a0Glows fade in (0.3s). Old moves fade out via a temporary "Ghost Node".\
\pard\pardeftab720\sa360\partightenfactor0

\f1\b \cf0 \strokec2 C. Assets (Strict Naming)
\f2\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls12\ilvl0
\f4\fs26 \cf3 \cb4 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec3 board_kaya
\f2\fs28 \cf0 \cb1 \strokec2 ,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 stone_black
\f2\fs28 \cf0 \cb1 \strokec2 ,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 stone_white
\f2\fs28 \cf0 \cb1 \strokec2 ,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 clam_01
\f2\fs28 \cf0 \cb1 \strokec2 ...
\f4\fs26 \cf3 \cb4 \strokec3 05
\f2\fs28 \cf0 \cb1 \strokec2 ,\'a0
\f4\fs26 \cf3 \cb4 \strokec3 go_lid_1
\f2\fs28 \cf0 \cb1 \strokec2 \'a0(Black's lid),\'a0
\f4\fs26 \cf3 \cb4 \strokec3 go_lid_2
\f2\fs28 \cf0 \cb1 \strokec2 \'a0(White's lid).\
\pard\pardeftab720\partightenfactor0

\f0\b \cf0 \strokec2 6. Essential Code Snippets\
\pard\pardeftab720\sa360\partightenfactor0

\f1 \cf0 A. Native Keyboard Handler (Fixes "10-step jump" bug)
\f2\b0 \
\pard\pardeftab720\partightenfactor0

\f5\fs36 \cf5 \cb6 \strokec5 code\cb1 \
\pard\pardeftab720\partightenfactor0

\f2\fs28 \cf7 \cb6 \strokec7 Swift\cb1 \
\
\pard\pardeftab720\partightenfactor0

\f4\fs26 \cf8 \cb6 \strokec8 struct NativeKeyboardHandler: NSViewRepresentable \{\
    \cf9 \strokec9 var\cf8 \strokec8  onKeyDown: (NSEvent) -> Bool\
    func makeNSView(context: Context) -> NSView \{\
        let view = KeyView(); view.onKeyDown = onKeyDown; \cf9 \strokec9 return\cf8 \strokec8  view\
    \}\
    \cf9 \strokec9 class\cf8 \strokec8  \cf10 \strokec10 KeyView\cf8 \strokec8 : \cf9 \strokec9 NSView \{\cf8 \strokec8 \
        \cf9 \strokec9 override\cf8 \strokec8  \cf9 \strokec9 var\cf8 \strokec8  acceptsFirstResponder: Bool \{ \cf11 \strokec11 true\cf8 \strokec8  \}\
        \cf9 \strokec9 override\cf8 \strokec8  func keyDown(with event: NSEvent) \{\
            \cf9 \strokec9 if\cf8 \strokec8  let handled = onKeyDown?(event), handled \{ \cf9 \strokec9 return\cf8 \strokec8  \}\
            \cf9 \strokec9 super\cf8 \strokec8 .keyDown(with: event)\
        \}\
    \}\
\}\cb1 \
\pard\pardeftab720\sa360\partightenfactor0

\f1\b\fs28 \cf0 \strokec2 B. 3D Radial Gradient Texture (The "Blur" Simulator)
\f2\b0 \
\pard\pardeftab720\partightenfactor0

\f5\fs36 \cf5 \cb6 \strokec5 code\cb1 \
\pard\pardeftab720\partightenfactor0

\f2\fs28 \cf7 \cb6 \strokec7 Swift\cb1 \
\
\pard\pardeftab720\partightenfactor0

\f4\fs26 \cf8 \cb6 \strokec8 private func generateGlowTexture(\cf11 \strokec11 color\cf8 \strokec8 : NSColor, size: Int, softness: CGFloat) -> NSImage \{\
    let img = \cf12 \cb6 \strokec12 NSImage\cf8 \cb6 \strokec8 (size: \cf12 \cb6 \strokec12 NSSize\cf8 \cb6 \strokec8 (width: size, height: size))\
    img.\cf12 \cb6 \strokec12 lockFocus\cf8 \cb6 \strokec8 ()\
    if let ctx = NSGraphicsContext.current?.cgContext \{\
        let colors = [color.cgColor, color.\cf12 \cb6 \strokec12 withAlphaComponent\cf8 \cb6 \strokec8 (\cf11 \strokec11 0\cf8 \strokec8 ).cgColor] as CFArray\
        let locations: [CGFloat] = [softness, \cf11 \strokec11 1.0\cf8 \strokec8 ] \
        if let gradient = \cf12 \cb6 \strokec12 CGGradient\cf8 \cb6 \strokec8 (colorsSpace: \cf12 \cb6 \strokec12 CGColorSpaceCreateDeviceRGB\cf8 \cb6 \strokec8 (), colors: colors, locations: locations) \{\
            let center = \cf12 \cb6 \strokec12 CGPoint\cf8 \cb6 \strokec8 (x: size/\cf11 \strokec11 2\cf8 \strokec8 , y: size/\cf11 \strokec11 2\cf8 \strokec8 )\
            ctx.\cf12 \cb6 \strokec12 drawRadialGradient\cf8 \cb6 \strokec8 (gradient, startCenter: center, startRadius: \cf11 \strokec11 0\cf8 \strokec8 , endCenter: center, endRadius: \cf12 \cb6 \strokec12 CGFloat\cf8 \cb6 \strokec8 (size)/\cf11 \strokec11 2\cf8 \strokec8 , options: .drawsBeforeStartLocation)\
        \}\
    \}\
    \cf13 \cb6 \strokec13 img\cf11 \cb6 \strokec11 .unlockFocus\cf8 \strokec8 (); return \cf13 \cb6 \strokec13 img\cf8 \cb6 \strokec8 \
\}\cb1 \
\pard\pardeftab720\partightenfactor0

\f0\b\fs28 \cf0 \strokec2 7. Path Forward (Next Session)\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls13\ilvl0
\f1 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Gameplay Logic (OGS):
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls13\ilvl1
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Task:
\f2\b0 \'a0Implement board click ->\'a0
\f4\fs26 \cf3 \cb4 \strokec3 app.ogsClient.sendMove
\f2\fs28 \cf0 \cb1 \strokec2 .\
\ls13\ilvl1
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Task:
\f2\b0 \'a0Convert coordinates to\'a0
\f1\b SGF String
\f2\b0 \'a0format before sending.\
\ls13\ilvl1
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Task:
\f2\b0 \'a0Handle the "Double Animation" case (don't re-animate confirmed moves).\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls13\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 3D Input:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls13\ilvl1
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Task:
\f2\b0 \'a0Implement\'a0
\f4\fs26 \cf3 \cb4 \strokec3 hitTest
\f2\fs28 \cf0 \cb1 \strokec2 \'a0in\'a0
\f4\fs26 \cf3 \cb4 \strokec3 ContentView3D
\f2\fs28 \cf0 \cb1 \strokec2 \'a0to translate clicks on the\'a0
\f4\fs26 \cf3 \cb4 \strokec3 SCNScene
\f2\fs28 \cf0 \cb1 \strokec2 \'a0into grid coordinates.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls13\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Captures:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls13\ilvl1
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Task:
\f2\b0 \'a0Wire up\'a0
\f4\fs26 \cf3 \cb4 \strokec3 BoardViewModel
\f2\fs28 \cf0 \cb1 \strokec2 \'a0captures to\'a0
\f4\fs26 \cf3 \cb4 \strokec3 SceneManager3D.updateCapturedStones
\f2\fs28 \cf0 \cb1 \strokec2 \'a0(Currently disconnected).\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa60\partightenfactor0
\ls13\ilvl0
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 "Watch" Tab:
\f2\b0 \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa60\partightenfactor0
\ls13\ilvl1
\f1\b \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u9702 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Task:
\f2\b0 \'a0Implement\'a0
\f4\fs26 \cf3 \cb4 \strokec3 gamelist/query
\f2\fs28 \cf0 \cb1 \strokec2 \'a0to populate the Watch tab with active games.\
\pard\pardeftab720\partightenfactor0

\f5\fs24 \cf0 \cb6 \strokec2 34.7s\cb1 \
Use Arrow Up and Arrow Down to select a turn, Enter to jump to it, and Escape to return to the chat.\
\pard\pardeftab720\partightenfactor0
\cf0 \cb14 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb15 \
\pard\pardeftab720\partightenfactor0

\f2\fs28 \cf16 \cb1 \strokec16 \
\
}